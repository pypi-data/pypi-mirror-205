"use strict";(self.webpackChunkjupytercad=self.webpackChunkjupytercad||[]).push([[414],{38414:(t,e,i)=>{i.r(e),i.d(e,{makeJSONObjectField:()=>n});var r=i(66029),a=i(40560),s=i(29656),o=i(97930);function n(t){return class extends t{constructor(){super(...arguments),this.onReset=()=>{this._editor.getDoc().setValue(JSON.stringify(this.props.formData,null,2))},this.onSave=()=>{this.props.onChange(this.state.editorValue)},this.onChange=(t,e,i)=>{try{const t=JSON.parse(i);this.setState({editorValue:t,editorError:!1})}catch(t){this.setState({editorValue:null,editorError:!0})}}}render(){const{uiSchema:t,formData:e,idSchema:i,name:o,registry:n=a.utils.getDefaultRegistry()}=this.props,{definitions:l}=n,c=a.utils.retrieveSchema(this.props.schema,l,e);let d;d=this.state.wasPropertyKeyModified||void 0===c.title?o:c.title;const u=!!document.querySelector('body[data-jp-theme-light="true"]'),h=t["ui:description"]||c.description,{canSave:m}=this,p={mode:"application/json",theme:u?"default":"zenburn",matchBrackets:!0,autoCloseBrackets:!0};return r.createElement(r.Fragment,null,r.createElement("legend",null,d),r.createElement("p",{className:"field-description"},h),r.createElement("div",{className:"jp-SchemaForm-JSONObject-buttons"},r.createElement("button",{id:`${i.$id}_revert`,className:"jp-JSONEditor-revertButton",title:"Revert to Previous Notebook Metadata",onClick:this.onReset}),r.createElement("button",{id:`${i.$id}_commit`,disabled:!m,className:"jp-JSONEditor-commitButton",title:"Commit to Notebook Metadata",onClick:this.onSave})),r.createElement("div",{id:i.$id},r.createElement(s.Rt,{editorDidMount:t=>this._editor=t,value:JSON.stringify(e,null,2),options:p,onChange:this.onChange})))}get canSave(){return!this.state.editorError&&this.state.editorValue&&!o.JSONExt.deepEqual(this.state.editorValue,this.props.formData)}}}}}]);