
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Events &#8212; NLV 1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Searching" href="searching.html" />
    <link rel="prev" title="Views" href="views.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">NLV</a></h1>



<p class="blurb">Analyse log and trace data</p>






<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="session.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="logfile.html">Log File</a></li>
<li class="toctree-l1"><a class="reference internal" href="views.html">Views</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Events</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#event-recogniser">Event Recogniser</a></li>
<li class="toctree-l2"><a class="reference internal" href="#analyser">Analyser</a></li>
<li class="toctree-l2"><a class="reference internal" href="#searching-hiliting">Searching &amp; Hiliting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#filtering">Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tracking">Tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="#field-visibility">Field Visibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="#themes">Themes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#navigation">Navigation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#event-patterns">Event Patterns</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="searching.html">Searching</a></li>
<li class="toctree-l1"><a class="reference internal" href="schema.html">Schema</a></li>
<li class="toctree-l1"><a class="reference internal" href="vsnlv.html">vsNLV</a></li>
<li class="toctree-l1"><a class="reference internal" href="keyboard.html">Key Bindings</a></li>
<li class="toctree-l1"><a class="reference internal" href="building.html">Building</a></li>
<li class="toctree-l1"><a class="reference internal" href="issues.html">Caveats and Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="licenses.html">Licensing</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="views.html" title="previous chapter">Views</a></li>
      <li>Next: <a href="searching.html" title="next chapter">Searching</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="events">
<h1>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h1>
<p>TBD.</p>
<section id="event-recogniser">
<span id="eventrecogniser"></span><h2>Event Recogniser<a class="headerlink" href="#event-recogniser" title="Permalink to this headline">¶</a></h2>
<p>TBD.</p>
</section>
<section id="analyser">
<span id="eventanalyser"></span><h2>Analyser<a class="headerlink" href="#analyser" title="Permalink to this headline">¶</a></h2>
<p>TBD.</p>
</section>
<section id="searching-hiliting">
<span id="eventhiliters"></span><h2>Searching &amp; Hiliting<a class="headerlink" href="#searching-hiliting" title="Permalink to this headline">¶</a></h2>
<p>TBD.</p>
</section>
<section id="filtering">
<span id="eventfilters"></span><h2>Filtering<a class="headerlink" href="#filtering" title="Permalink to this headline">¶</a></h2>
<p>TBD.</p>
</section>
<section id="tracking">
<span id="eventtracking"></span><h2>Tracking<a class="headerlink" href="#tracking" title="Permalink to this headline">¶</a></h2>
<p>TBD.</p>
</section>
<section id="field-visibility">
<span id="eventfields"></span><h2>Field Visibility<a class="headerlink" href="#field-visibility" title="Permalink to this headline">¶</a></h2>
<p>TBD.</p>
</section>
<section id="themes">
<h2>Themes<a class="headerlink" href="#themes" title="Permalink to this headline">¶</a></h2>
<section id="navigation">
<span id="eventnavigation"></span><h3>Navigation<a class="headerlink" href="#navigation" title="Permalink to this headline">¶</a></h3>
<p>TBD.</p>
</section>
<section id="event-patterns">
<span id="eventpatterns"></span><h3>Event Patterns<a class="headerlink" href="#event-patterns" title="Permalink to this headline">¶</a></h3>
<p>TBD.</p>
</section>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">re</span>


<span class="c1">## SimpleFormatter #########################################</span>

<span class="k">def</span> <span class="nf">SimpleFormatter</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Formatters are executed at event display time.</span>

<span class="sd">    :param `value`: the field value to be displayed.</span>

<span class="sd">    :param `attr`: an attributes object. Controls the formatting</span>
<span class="sd">     of the displayed field value.  Supported methods on the</span>
<span class="sd">     attributes object are:</span>
<span class="sd">        . SetBold(set)</span>
<span class="sd">        . SetItalic(set)</span>
<span class="sd">        . SetFgColour(colour_name_or_rgb)</span>
<span class="sd">        . SetBgColour(colour_name_or_rgb)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">attr</span><span class="o">.</span><span class="n">SetBold</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>


<span class="c1">## DefineFilter ############################################</span>

<span class="k">def</span> <span class="nf">DefineFilter</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Called to define the event start and event finish filters. During</span>
<span class="sd">    event analysis only lines matching the event start filter are</span>
<span class="sd">    considered as event start candidates, and similarly for event</span>
<span class="sd">    finish.</span>

<span class="sd">    Return an array of two filters. Each filter is a tuple of two</span>
<span class="sd">    strings:</span>

<span class="sd">    1. The filter type. Must be one of &#39;Literal, &#39;Regular Expression&#39;</span>
<span class="sd">       or  &#39;LogView Filter&#39;</span>
<span class="sd">    2. The filter&#39;s match text.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="p">[</span>
        <span class="p">(</span><span class="s1">&#39;LogView Filter&#39;</span><span class="p">,</span>  <span class="s1">&#39;function = &quot;HandleReschedule&quot; and log ~= &quot;Reschedule&quot;&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;LogView Filter&#39;</span><span class="p">,</span>  <span class="s1">&#39;function = &quot;HandleReschedule&quot; and log ~= &quot;Scheduled&quot;&#39;</span><span class="p">)</span>
    <span class="p">]</span>


<span class="c1">## DefineSchema ############################################</span>

<span class="k">def</span> <span class="nf">DefineSchema</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Called to define the schema of the event analysis.</span>
<span class="sd">    Optionally call InitStart to customise the start date/time</span>
<span class="sd">    field added by NLV. Also, call AddFinish to add a finish</span>
<span class="sd">    date/time field, and/or AddDuration to add a duration time</span>
<span class="sd">    field. Adding at least one of AddFinish or AddDuration is</span>
<span class="sd">    recommended for long lived events, as it results in better</span>
<span class="sd">    visibility when tracking events.</span>

<span class="sd">    The call AddField to define each further field (column)</span>
<span class="sd">    that will be populated for an event.</span>

<span class="sd">    Available schema methods are:</span>
<span class="sd">        InitStart(self, name = &quot;&quot;, width = 0, align = None,</span>
<span class="sd">         formatter = None)</span>

<span class="sd">        AddFinish(self, name, width = 30, align = &quot;centre&quot;,</span>
<span class="sd">         formatter = None)</span>

<span class="sd">        AddDuration(self, name, scale = &quot;us&quot;, width = 30,</span>
<span class="sd">         align = &quot;centre&quot;, formatter = None)</span>

<span class="sd">        AddField(self, name, type, width = 30, align = &quot;centre&quot;,</span>
<span class="sd">         formatter = None)</span>

<span class="sd">    where:</span>
<span class="sd">        * `name` is the field&#39;s display name as a string</span>

<span class="sd">        * `type` is the field&#39;d binary type. It must be one of</span>
<span class="sd">           the string values defined for schema:</span>
<span class="sd">            - &#39;bool&#39;</span>
<span class="sd">            - &#39;enum08&#39;, &#39;enum16&#39;</span>
<span class="sd">            - &#39;uint08&#39;, &#39;uint16&#39;, &#39;uint32&#39;, &#39;uint64&#39;</span>
<span class="sd">            - &#39;int08&#39;, &#39;int16&#39;, &#39;int32&#39;, &#39;int64&#39;</span>
<span class="sd">            - &#39;float32&#39;, &#39;float64&#39;</span>
<span class="sd">            - &#39;enum08&#39;, &#39;enum16&#39;</span>
<span class="sd">            - &#39;text&#39;</span>

<span class="sd">        * `width` is the field&#39;s preferred display width in</span>
<span class="sd">           pixels (int)</span>

<span class="sd">        * `align` is the fields preferred display alignment.</span>
<span class="sd">          For InitStart it can be an empty string, meaning</span>
<span class="sd">          &#39;leave as default&#39;. Otherwise, it must be one of the</span>
<span class="sd">          following string values:</span>
<span class="sd">            - &#39;left&#39;</span>
<span class="sd">            - &#39;centre&#39;</span>
<span class="sd">            - &#39;right&#39;</span>

<span class="sd">        * `formatter` (optional) is a callable Python object</span>
<span class="sd">          called during event display to control the formatting</span>
<span class="sd">          of the field&#39;s value</span>

<span class="sd">        * `scale` (optional) divisor for the calculated duration.</span>
<span class="sd">          Internally, NLV uses nanoseconds for all time values.</span>
<span class="sd">          The calculated duration is adjusted by `scale` before</span>
<span class="sd">          storage/display. Values are:</span>
<span class="sd">            - &#39;ns&#39; to display nanoseconds</span>
<span class="sd">            - &#39;us&#39; to display microseconds</span>
<span class="sd">            - &#39;ms&#39; to display milliseconds</span>
<span class="sd">            - &#39;s&#39; to display seconds</span>

<span class="sd">    It is recommended to include the finish time, as the UI</span>
<span class="sd">    can then always correctly locate the end of the event.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">schema</span><span class="o">.</span><span class="n">InitStart</span><span class="p">(</span><span class="s2">&quot;Start&quot;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">140</span><span class="p">)</span>
    <span class="n">schema</span><span class="o">.</span><span class="n">AddDuration</span><span class="p">(</span><span class="s2">&quot;Duration (s)&quot;</span><span class="p">,</span> <span class="n">scale</span> <span class="o">=</span> <span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">60</span><span class="p">,</span> <span class="n">formatter</span> <span class="o">=</span> <span class="n">SimpleFormatter</span><span class="p">)</span>
    <span class="n">schema</span><span class="o">.</span><span class="n">AddField</span><span class="p">(</span><span class="s2">&quot;Place&quot;</span><span class="p">,</span> <span class="s2">&quot;float32&quot;</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
    <span class="n">schema</span><span class="o">.</span><span class="n">AddField</span><span class="p">(</span><span class="s2">&quot;Abool&quot;</span><span class="p">,</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>


<span class="c1">## MatchEventFinish ########################################</span>

<span class="k">class</span> <span class="nc">MatchEventFinish</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Callable object. Called during event analysis to identify</span>
<span class="sd">    the finish of an event.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_RegexPlace</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;([\d.]+)\splace&quot;</span><span class="p">)</span>

    <span class="c1">#-------------------------------------------------------</span>
    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">collector</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Called to determine whether a log line (candidate) marks</span>
<span class="sd">        the finish of the event of interest. Only lines matching</span>
<span class="sd">        the finish filter (see DefineFilter) will be passed.</span>

<span class="sd">        :param `line`: provides access to the log line under consideration.</span>
<span class="sd">        It provides the following methods:</span>

<span class="sd">            . GetFieldText( field_name ) - fetches a field&#39;s value as text</span>
<span class="sd">            . GetFieldValueUnsigned( field_name ) - fetches an unsigned field&#39;s value</span>
<span class="sd">            . GetFieldValueSigned( field_name ) - fetches an integer field&#39;s value</span>
<span class="sd">            . GetFieldValueFloat( field_name ) - fetches a float field&#39;s value</span>
<span class="sd">            . GetNonFieldText() - fetches the non-field part of the log line</span>

<span class="sd">        where the field_name is the log file&#39;s field name as defined</span>
<span class="sd">        by its schema.</span>

<span class="sd">        :param `collector`: results accessor. The collector provides</span>
<span class="sd">        two methods:</span>

<span class="sd">            . AddEvent( recogniser_values, cookie )</span>
<span class="sd">                        . CancelEvent()</span>

<span class="sd">        where:</span>
<span class="sd">            * `cookie` is a value that can be passed to the IsContained</span>
<span class="sd">              function.</span>

<span class="sd">            * `recogniser_values` is a list of event fields. The length</span>
<span class="sd">              and types of the list members must match the descriptions</span>
<span class="sd">              provided by `DefineSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">f_place</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_RegexPlace</span><span class="p">,</span> <span class="n">line</span><span class="o">.</span><span class="n">GetNonFieldText</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">match</span> <span class="ow">and</span> <span class="n">match</span><span class="o">.</span><span class="n">lastindex</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">f_place</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">match</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">f_bool</span> <span class="o">=</span> <span class="n">f_place</span> <span class="o">&gt;</span> <span class="mf">0.16</span>

        <span class="n">collector</span><span class="o">.</span><span class="n">AddEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="p">[</span><span class="n">f_place</span><span class="p">,</span> <span class="n">f_bool</span><span class="p">])</span>


<span class="c1">## MatchEventStart #########################################</span>

<span class="k">def</span> <span class="nf">MatchEventStart</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Called to determine whether a log line (candidate) marks</span>
<span class="sd">    the start of an event of interest. Only lines matching</span>
<span class="sd">    the start filter (see DefineFilter) will be passed.</span>

<span class="sd">    If the log line matches the start of an event, then return</span>
<span class="sd">    a callable object which adhers to the MatchEventFinish</span>
<span class="sd">    concept.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">MatchEventFinish</span><span class="p">()</span>


<span class="c1">## IsContained #############################################</span>

<span class="k">def</span> <span class="nf">IsContained</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">child</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Called to determine whether the `child` event can be considered</span>
<span class="sd">    subordinate-to, or contained-within, `parent` event.</span>

<span class="sd">    Both `parent` and `child` are cookies previously supplied to</span>
<span class="sd">    collector.AddField. The function should return True if the child</span>
<span class="sd">    event is to be considered &quot;contained by&quot; (or &quot;subordinate to&quot;) the</span>
<span class="sd">    parent event, and False otherwise. Contained events mey be displayed</span>
<span class="sd">    nested in the UI.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="kc">False</span>


<span class="c1">## GLOBAL ##################################################</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Analyser configuration. Call the global AnalyseLog function as follows:</span>

<span class="sd">    AnalyseLog(define_filter_func, define_schema_func, match_start_func, containment_func = None)</span>

<span class="sd">where:</span>
<span class="sd">    * `define_filter_func` is a callable object, behaving as per `DefineFilter`</span>

<span class="sd">    * `define_schema_func` is a callable object, behaving as per `DefineSchema`</span>

<span class="sd">    * `match_start_func` is a callable object, behaving as per `MatchEventStart`</span>

<span class="sd">    * `containment_func` is a callable object, behaving per `IsContained`</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">AnalyseLog</span><span class="p">(</span><span class="n">DefineFilter</span><span class="p">,</span> <span class="n">DefineSchema</span><span class="p">,</span> <span class="n">MatchEventStart</span><span class="p">,</span> <span class="n">IsContained</span><span class="p">)</span>
</pre></div></td></tr></table></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2017-2018, Niel Clausen.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/events.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>