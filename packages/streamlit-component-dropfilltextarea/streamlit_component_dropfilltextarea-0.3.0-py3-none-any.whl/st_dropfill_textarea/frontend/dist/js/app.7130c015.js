(function(e){function t(t){for(var r,o,c=t[0],l=t[1],u=t[2],d=0,f=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);s&&s(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==a[l]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"010f":function(e,t,n){"use strict";n("e1ba")},1:function(e,t){},"1eca":function(e,t,n){},2:function(e,t){},"44dc":function(e,t,n){"use strict";n("1eca")},"4b1c":function(e,t,n){"use strict";n("5084")},5084:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("830f"),a=n("5c40"),i={id:"app"};function o(e,t,n,r,o,c){var l=Object(a["u"])("DropfillTextarea"),u=Object(a["u"])("WithStreamlitConnection");return Object(a["q"])(),Object(a["d"])("div",i,[Object(a["h"])(u,null,{default:Object(a["A"])((function(e){var t=e.args;return[Object(a["h"])(l,{args:t},null,8,["args"])]})),_:1})])}var c=n("9ff4"),l=Object(a["C"])("data-v-d9c6bcbe");Object(a["s"])("data-v-d9c6bcbe");var u={class:"textarea-container",ref:"textarea-container"},s={key:0};Object(a["r"])();var d=l((function(e,t,n,i,o,l){return Object(a["q"])(),Object(a["d"])(a["b"],null,[Object(a["h"])("div",{class:"container",style:e.cssProps,ref:"container"},[Object(a["h"])("div",{class:"label",ref:"label"},Object(c["F"])(e.label),513),Object(a["h"])("div",u,[Object(a["B"])(Object(a["h"])("textarea",{ref:"textarea","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.value=t}),placeholder:e.args.placeholder,onChange:t[2]||(t[2]=function(){return e.handlesChange.apply(e,arguments)}),onDrop:t[3]||(t[3]=function(){return e.handleDrop.apply(e,arguments)})},null,40,["placeholder"]),[[r["b"],e.value]])],512)],4),e.fileName.length>0?(Object(a["q"])(),Object(a["d"])("div",s,"File name: "+Object(c["F"])(e.fileName),1)):Object(a["e"])("",!0)],64)})),f=(n("4de4"),n("a15b"),n("b0c0"),n("ac1f"),n("5319"),n("498a"),n("b85c")),h=n("a1e9"),p=n("d092");function b(){Object(a["n"])((function(){p["a"].setFrameHeight()})),Object(a["p"])((function(){p["a"].setFrameHeight()}))}
/**
 * @license
 * Copyright 2018-2020 Streamlit Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v=n("c343"),g={name:"DropfillTextarea",props:{args:Object},setup:function(){b()},data:function(){var e=Object(h["i"])(""),t=Object(h["i"])("");return{value:e,fileName:t}},mounted:function(){this.value=Object(h["i"])(this.args.value),this.rerender()},computed:{label:function(){return this.args.label},cssProps:function(){var e={"--flex-direction":"column","--margin-right":"0px","--container-height":1.15*this.args.height+"px","--textarea-height":this.args.height+"px","--align-items":"left","--background-color":"#f0f2f6"};return"column"!==this.args.layout&&(e["--flex-direction"]="row",e["--margin-right"]="4px",e["--align-items"]="center"),e}},methods:{renderColumn:function(){var e=this;setTimeout((function(){var t=e.$refs["container"],n=e.$refs["label"],r=e.$refs["textarea"],a=n.clientHeight+r.clientHeight,i=t.clientWidth-32-4;t.style.height=a+"px",r.style.width=i+"px",r.style.height=e.args.height-16+"px"}),100)},renderRow:function(){var e=this;setTimeout((function(){var t,n=e.$refs["container"],r=e.$refs["label"],a=e.$refs["textarea-container"],i=e.$refs["textarea"],o=e.args.labelWidth;null!==o?(r.style.width=o+"px",t=n.clientWidth-o-32-8):t=n.clientWidth-r.clientWidth-32-8;var c=a.clientHeight;n.style.height=c+"px",a.style.width=t+"px",a.style.height=e.args.height+"px",i.style.height=e.args.height-32+"px"}),100)},rerender:function(){"column"===this.args.layout?this.renderColumn():this.renderRow()},handlesChange:function(){p["a"].setComponentValue(this.value)},updateValue:function(e){this.value=e,this.handlesChange()},getTextFromNode:function(e){var t="";if(e.nodeType===Node.TEXT_NODE)t+=e.textContent.trim();else{var n,r=[],a=Object(f["a"])(e.childNodes);try{for(a.s();!(n=a.n()).done;){var i=n.value;r.push(this.getTextFromNode(i))}}catch(o){a.e(o)}finally{a.f()}r=r.filter((function(e){return e.length>0})),t+=r.join("")+"\n"}return t},convertToJson:function(e){var t,n=new DOMParser,r=n.parseFromString(e,"text/html"),a=r.getElementsByTagName("body")[0],i=[],o=Object(f["a"])(a.childNodes);try{for(o.s();!(t=o.n()).done;){var c=t.value,l=this.getTextFromNode(c);i.push(l)}}catch(s){o.e(s)}finally{o.f()}var u=i.join("\n");u=u.replace(/(\r\n|\r|\n){2,}/g,"$1\n"),this.updateValue(u)},handleDocx:function(e){var t=this,n=new FileReader;n.onload=function(){Object(v["convertToHtml"])({arrayBuffer:n.result}).then((function(e){t.convertToJson(e.value)}))},n.readAsArrayBuffer(e)},handleHtml:function(e){var t=this,n=new FileReader;n.onload=function(){t.convertToJson(n.result)},n.readAsText(e)},handlPlainText:function(e){var t=this,n=new FileReader;n.onload=function(){t.updateValue(n.result)},n.readAsText(e)},fileHandler:function(e){var t={"application/vnd.openxmlformats-officedocument.wordprocessingml.document":this.handleDocx,"text/html":this.handleHtml,"text/plain":this.handlPlainText,"application/json":this.handlPlainText};return t[e.type]},handleDrop:function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer.files[0],n=this.fileHandler(t);void 0!==n?(n(t),this.fileName=t.name):this.updateValue("Dropped file type not supported")}}};n("010f");g.render=d,g.__scopeId="data-v-d9c6bcbe";var O=g,j=Object(a["C"])("data-v-bef81972");Object(a["s"])("data-v-bef81972");var m={key:0},x=Object(a["h"])("h1",{class:"err__title"},"Component Error",-1),y={class:"err__msg"};Object(a["r"])();var T=j((function(e,t,n,r,i,o){return Object(a["q"])(),Object(a["d"])("div",null,[""!=e.componentError?(Object(a["q"])(),Object(a["d"])("div",m,[x,Object(a["h"])("div",y,"Message: "+Object(c["F"])(e.componentError),1)])):null!=e.renderData?Object(a["t"])(e.$slots,"default",{key:1,args:e.renderData.args,disabled:e.renderData.disabled}):Object(a["e"])("",!0)])})),w=Object(a["i"])({name:"WithStreamlitConnection",setup:function(){var e=Object(h["i"])(void 0),t=Object(h["i"])(""),n=function(n){var r=n;e.value=r.detail,t.value=""};return Object(a["n"])((function(){p["a"].events.addEventListener(p["a"].RENDER_EVENT,n),p["a"].setComponentReady()})),Object(a["p"])((function(){""!=t.value&&p["a"].setFrameHeight()})),Object(a["o"])((function(){p["a"].events.removeEventListener(p["a"].RENDER_EVENT,n)})),Object(a["m"])((function(e){t.value=String(e)})),{renderData:e,componentError:t}}});n("44dc");w.render=T,w.__scopeId="data-v-bef81972";var D=w,_=Object(a["i"])({name:"App",components:{DropfillTextarea:O,WithStreamlitConnection:D}});n("4b1c");_.render=o;var E=_;Object(r["a"])(E).mount("#app")},e1ba:function(e,t,n){}});
//# sourceMappingURL=app.7130c015.js.map