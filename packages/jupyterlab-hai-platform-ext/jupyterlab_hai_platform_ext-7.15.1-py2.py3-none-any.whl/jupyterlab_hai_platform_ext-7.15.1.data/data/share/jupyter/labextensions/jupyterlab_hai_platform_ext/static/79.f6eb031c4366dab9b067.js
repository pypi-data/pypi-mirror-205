/*! For license information please see 79.f6eb031c4366dab9b067.js.LICENSE.txt */
"use strict";(self.webpackChunkjupyterlab_hai_platform_ext=self.webpackChunkjupyterlab_hai_platform_ext||[]).push([[79],{28079:(e,t,n)=>{n.r(t),n.d(t,{BaseTable:()=>wn,Classes:()=>Wt,TablePipeline:()=>Cn,applyTransforms:()=>jn,buildTree:()=>Mn,collectNodes:()=>bt,exportTableAsExcel:()=>Ln,features:()=>Lr,getTreeDepth:()=>vt,groupBy:()=>In,groupBy2:()=>mt,internals:()=>Et,isLeafNode:()=>gt,layeredSort:()=>Hn,makeAutoRowSpanTransform:()=>Gn,makeBuildTreeTransform:()=>Xn,makeColumnHoverTransform:()=>Zn,makeColumnRangeHoverTransform:()=>er,makeColumnResizeTransform:()=>or,makeFlattenTransform:()=>sr,makeOrderFieldTransform:()=>lr,makeRecursiveMapper:()=>Vn,makeSortTransform:()=>hr,makeTipsTransform:()=>pr,makeTreeModeTransform:()=>Ar,makeVisibleTransform:()=>Vr,mergeCellProps:()=>Ct,proto:()=>zn,smartCompare:()=>Kn,traverseColumn:()=>Wn,useAutoWidthTransform:()=>qn,useColumnHoverRangeTransform:()=>tr,useColumnHoverTransform:()=>Jn,useColumnResizeTransform:()=>ir,useSortTransform:()=>dr,useTablePipeline:()=>On,useTreeModeTransform:()=>zr});var r=n(79580),o=n.n(r),i=n(56271),s=n.n(i),l=function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},l(e,t)};function a(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function c(e){return"function"==typeof e}var u=!1,h={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,u=e},get useDeprecatedSynchronousErrorHandling(){return u}};function d(e){setTimeout((function(){throw e}),0)}var f={closed:!0,next:function(e){},error:function(e){if(h.useDeprecatedSynchronousErrorHandling)throw e;d(e)},complete:function(){}},p=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();function g(e){return null!==e&&"object"==typeof e}var b=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),v=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,r=n._parentOrParents,o=n._ctorUnsubscribe,i=n._unsubscribe,s=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var l=0;l<r.length;++l)r[l].remove(this);if(c(i)){o&&(this._unsubscribe=void 0);try{i.call(this)}catch(e){t=e instanceof b?m(e.errors):[e]}}if(p(s)){l=-1;for(var a=s.length;++l<a;){var u=s[l];if(g(u))try{u.unsubscribe()}catch(e){t=t||[],e instanceof b?t=t.concat(m(e.errors)):t.push(e)}}}if(t)throw new b(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function m(e){return e.reduce((function(e,t){return e.concat(t instanceof b?t.errors:t)}),[])}var y=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),w=function(e){function t(n,r,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=f;break;case 1:if(!n){i.destination=f;break}if("object"==typeof n){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new S(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new S(i,n,r,o)}return i}return a(t,e),t.prototype[y]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(v),S=function(e){function t(t,n,r,o){var i,s=e.call(this)||this;s._parentSubscriber=t;var l=s;return c(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==f&&(c((l=Object.create(n)).unsubscribe)&&s.add(l.unsubscribe.bind(l)),l.unsubscribe=s.unsubscribe.bind(s))),s._context=l,s._next=i,s._error=r,s._complete=o,s}return a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;h.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=h.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):d(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;d(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};h.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),h.useDeprecatedSynchronousErrorHandling)throw e;d(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!h.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return h.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(d(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(w),x=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function k(e){return e}var E=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=function(e,t,n){if(e){if(e instanceof w)return e;if(e[y])return e[y]()}return e||t||n?new w(e,t,n):new w(f)}(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||h.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),h.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){h.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof w?r:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=_(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[x]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:(0===(n=e).length?k:1===n.length?n[0]:function(e){return n.reduce((function(e,t){return t(e)}),e)})(this);var n},e.prototype.toPromise=function(e){var t=this;return new(e=_(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function _(e){if(e||(e=h.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var C=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var T=O(),R=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function P(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var I=function(e){if(e&&"function"==typeof e[x])return r=e,function(e){var t=r[x]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(R(e))return C(e);if(P(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,d),e};if(e&&"function"==typeof e[T])return t=e,function(e){for(var n=t[T]();;){var r=void 0;try{r=n.next()}catch(t){return e.error(t),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r,o=g(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+o+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function j(e,t){return new E((function(n){var r=new v,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function M(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[x]}(e))return function(e,t){return new E((function(n){var r=new v;return r.add(t.schedule((function(){var o=e[x]();r.add(o.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(P(e))return function(e,t){return new E((function(n){var r=new v;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(R(e))return j(e,t);if(function(e){return e&&"function"==typeof e[T]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new E((function(n){var r,o=new v;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(t.schedule((function(){r=e[T](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var o=r.next();e=o.value,t=o.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof E?e:new E(I(e))}var N=new E((function(e){return e.complete()}));function L(e){return e?function(e){return new E((function(t){return e.schedule((function(){return t.complete()}))}))}(e):N}function H(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new A(e,t))}}var A=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new z(e,this.project,this.thisArg))},e}(),z=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return a(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(w);function V(e,t,n,r){return c(n)&&(r=n,n=void 0),r?V(e,t,n).pipe(H((function(e){return p(e)?r.apply(void 0,e):r(e)}))):new E((function(r){K(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function K(e,t,n,r,o){var i;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var s=e;e.addEventListener(t,n,o),i=function(){return s.removeEventListener(t,n,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var l=e;e.on(t,n),i=function(){return l.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var a=e;e.addListener(t,n),i=function(){return a.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,u=e.length;c<u;c++)K(e[c],t,n,r,o)}r.add(i)}var W=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return a(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(v)),D=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),B=function(e){function t(n,r){void 0===r&&(r=D.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return a(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(D),$=new B(W),G=$,F=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),Y=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return a(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(v),U=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return a(t,e),t}(w),q=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return a(t,e),t.prototype[y]=function(){return new U(this)},t.prototype.lift=function(e){var t=new X(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new F;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new F;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new F;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new F;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new F;return this.hasError?(e.error(this.thrownError),v.EMPTY):this.isStopped?(e.complete(),v.EMPTY):(this.observers.push(e),new Y(this,e))},t.prototype.asObservable=function(){var e=new E;return e.source=this,e},t.create=function(e,t){return new X(e,t)},t}(E),X=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return a(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):v.EMPTY},t}(q),Z=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new F;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(q);function J(e){return e&&"function"==typeof e.schedule}var Q=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return a(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(w),ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(w);function te(e,t){if(!t.closed){if(e instanceof E)return e.subscribe(t);var n;try{n=I(e)(t)}catch(e){t.error(e)}return n}}function ne(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(ne((function(n,r){return M(e(n,r)).pipe(H((function(e,o){return t(n,e,r,o)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new re(e,n))})}var re=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new oe(e,this.project,this.concurrent))},e}(),oe=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return a(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new Q(this),n=this.destination;n.add(t);var r=te(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(ee);function ie(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),ne(k,e)}function se(e,t){return t?j(e,t):new E(C(e))}var le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(w),ae=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o.index=0,o}return a(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(w);function ce(e,t,n,r,o){if(void 0===o&&(o=new ae(e,n,r)),!o.closed)return t instanceof E?t.subscribe(o):I(t)(o)}var ue={},he=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new de(e,this.resultSelector))},e}(),de=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return a(t,e),t.prototype._next=function(e){this.values.push(ue),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(ce(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,o=r[n],i=this.toRespond?o===ue?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(le);function fe(){}function pe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return J(n)?(e.pop(),j(e,n)):se(e)}function ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ie(1)(pe.apply(void 0,e))}function be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return J(n)?(e.pop(),function(t){return ge(e,t,n)}):function(t){return ge(e,t)}}function ve(e,t){return function(n){return n.lift(new me(e,t))}}var me=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new ye(e,this.compare,this.keySelector))},e}(),ye=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.keySelector=r,o.hasKey=!1,"function"==typeof n&&(o.compare=n),o}return a(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(e){return this.destination.error(e)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(e){return this.destination.error(e)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(w);function we(e,t,n){return function(r){return r.lift(new Se(e,t,n))}}var Se=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new xe(e,this.nextOrObserver,this.error,this.complete))},e}(),xe=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i._tapNext=fe,i._tapError=fe,i._tapComplete=fe,i._tapError=r||fe,i._tapComplete=o||fe,c(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||fe,i._tapError=n.error||fe,i._tapComplete=n.complete||fe),i}return a(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(w);function ke(e,t){return"function"==typeof t?function(n){return n.pipe(ke((function(n,r){return M(e(n,r)).pipe(H((function(e,o){return t(n,e,r,o)})))})))}:function(t){return t.lift(new _e(e))}}var Ee,_e=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new Ce(e,this.project))},e}(),Ce=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return a(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new Q(this),r=this.destination;r.add(n),this.innerSubscription=te(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(ee),Oe=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new Te(e,this.total))},e}(),Te=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return a(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(w),Re=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new Pe(e,this.value))},e}(),Pe=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return a(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(w),Ie=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return a(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(W),je=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(B))(Ie);Ee||(Ee={});var Me=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e;switch(this.kind){case"N":return pe(this.value);case"E":return e=this.error,new E((function(t){return t.error(e)}));case"C":return L()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),Ne=function(e){function t(t,n,r){void 0===r&&(r=0);var o=e.call(this,t)||this;return o.scheduler=n,o.delay=r,o}return a(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new Le(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(Me.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(Me.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Me.createComplete()),this.unsubscribe()},t}(w),Le=function(){return function(e,t){this.notification=e,this.destination=t}}(),He=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=e.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return a(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new Ae(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new F;if(this.isStopped||this.hasError?t=v.EMPTY:(this.observers.push(e),t=new Y(this,e)),o&&e.add(e=new Ne(e,o)),n)for(var s=0;s<i&&!e.closed;s++)e.next(r[s]);else for(s=0;s<i&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||je).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(e-r[i].time<n);)i++;return o>t&&(i=Math.max(i,o-t)),i>0&&r.splice(0,i),r},t}(q),Ae=function(){return function(e,t){this.time=e,this.value=t}}();var ze=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ve(e))},e}(),Ve=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return a(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(w);function Ke(e,t){return function(n){return n.lift(new We(e,t))}}var We=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new De(e,this.predicate,this.thisArg))},e}(),De=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return a(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(w),Be={leading:!0,trailing:!1},$e=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new Ge(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),Ge=function(e){function t(t,n,r,o,i){var s=e.call(this,t)||this;return s.duration=n,s.scheduler=r,s.leading=o,s.trailing=i,s._hasTrailingValue=!1,s._trailingValue=null,s}return a(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Fe,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(w);function Fe(e){e.subscriber.clearThrottle()}var Ye=n(82402),Ue=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),qe="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Xe=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Ze="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Xe):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},Je=["top","right","bottom","left","width","height","size","weight"],Qe="undefined"!=typeof MutationObserver,et=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&l()}function s(){Ze(i)}function l(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){qe&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Qe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){qe&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Je.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),tt=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},nt=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Xe},rt=at(0,0,0,0);function ot(e){return parseFloat(e)||0}function it(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+ot(e["border-"+n+"-width"])}),0)}var st="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof nt(e).SVGGraphicsElement}:function(e){return e instanceof nt(e).SVGElement&&"function"==typeof e.getBBox};function lt(e){return qe?st(e)?function(e){var t=e.getBBox();return at(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return rt;var r=nt(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=ot(i)}return t}(r),i=o.left+o.right,s=o.top+o.bottom,l=ot(r.width),a=ot(r.height);if("border-box"===r.boxSizing&&(Math.round(l+i)!==t&&(l-=it(r,"left","right")+i),Math.round(a+s)!==n&&(a-=it(r,"top","bottom")+s)),!function(e){return e===nt(e).document.documentElement}(e)){var c=Math.round(l+i)-t,u=Math.round(a+s)-n;1!==Math.abs(c)&&(l-=c),1!==Math.abs(u)&&(a-=u)}return at(o.left,o.top,l,a)}(e):rt}function at(e,t,n,r){return{x:e,y:t,width:n,height:r}}var ct=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=at(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=lt(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),ut=function(e,t){var n,r,o,i,s,l,a,c=(r=(n=t).x,o=n.y,i=n.width,s=n.height,l="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(l.prototype),tt(a,{x:r,y:o,width:i,height:s,top:o,right:r+i,bottom:s+o,left:r}),a);tt(this,{target:e,contentRect:c})},ht=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Ue,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof nt(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ct(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof nt(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new ut(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),dt="undefined"!=typeof WeakMap?new WeakMap:new Ue,ft=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=et.getInstance(),r=new ht(t,n,this);dt.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){ft.prototype[e]=function(){var t;return(t=dt.get(this))[e].apply(t,arguments)}}));const pt=void 0!==Xe.ResizeObserver?Xe.ResizeObserver:ft;function gt(e){return null==e.children||0===e.children.length}function bt(e,t="pre"){const n=[];return function e(r){if(null!=r)for(const o of r)gt(o)?n.push(o):"pre"===t?(n.push(o),e(o.children)):"post"===t?(e(o.children),n.push(o)):e(o.children)}(e),n}function vt(e){let t=-1;return function e(n,r){for(const o of n)gt(o)?t=Math.max(t,r):e(o.children,r+1)}(e,0),t}function mt(e,t){const n=new Map;for(const r of e){const e=t(r);n.has(e)||n.set(e,[]),n.get(e).push(r)}return n}function yt(e,t){const n=[];return e.forEach(((r,o)=>{n.push(...t(r,o,e))})),n}const wt={diff(e,t){const n=new Set(t);return e.filter((e=>!n.has(e)))},merge(e,t){const n=new Set(e);return e.concat(t.filter((e=>!n.has(e))))}};function St(e){return(...t)=>e}class xt{constructor(){this.rects=[]}testSkip(e,t){return this.rects.some((({left:n,right:r,top:o,bottom:i})=>n<=t&&t<r&&o<=e&&e<i))}stripUpwards(e){this.rects=this.rects.filter((t=>t.bottom>e))}add(e,t,n,r){this.rects.push({left:t,right:t+n,top:e,bottom:e+r})}}function kt(e,t,n){return e.getValue?e.getValue(t,n):t[e.code]}const Et={safeRenderHeader:function(e){var t;return null!==(t=e.title)&&void 0!==t?t:e.name},safeGetValue:kt,safeGetRowKey:function(e,t,n){let r;return"string"==typeof e?r=t[e]:"function"==typeof e&&(r=e(t)),null==r&&(r=String(n)),r},safeGetCellProps:function(e,t,n){if(e.getCellProps){const r=kt(e,t,n);return e.getCellProps(r,t,n)||{}}return{}},safeRender:function(e,t,n){const r=kt(e,t,n);return e.render?e.render(r,t,n):r}};function _t(e,t){return(...n)=>{e(n),t(n)}}function Ct(e,t){if(null==e)return t;if(null==t)return e;const n=Object.assign({},e);for(const e of Object.keys(t)){const r=t[e],i=typeof r;if(null===r)n[e]=null;else if(void 0===r);else if("number"===i||"string"===i||"boolean"===i)n[e]="className"===e?o()(n[e],r):r;else if("function"===i){const t=n[e];n[e]=null==t?r:_t(t,r)}else"object"===i&&(n[e]=Object.assign({},n[e],r))}return n}const Ot="v3"==(null!=Ye.vJ?"v5":"v3")?"innerRef":"ref",Tt=100;function Rt(e){let t=0;return e.forEach((e=>{t+=e})),t}const Pt=(It=()=>V(window,"resize",{passive:!0}).pipe(function(e,t,n){return void 0===t&&(t=G),void 0===n&&(n=Be),function(e){return e.lift(new $e(150,t,n.leading,n.trailing))}}(0,$,{leading:!0,trailing:!0})),new E((function(e){var t;try{t=It()}catch(t){return void e.error(t)}return(t?M(t):L()).subscribe(e)})));var It;function jt(){const e=document.createElement("div");e.style.position="absolute",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth,n=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),{width:t,height:n}}let Mt;function Nt(e,t){const n=Object.prototype.hasOwnProperty;if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(let o=0;o<r.length;o++)if(!n.call(t,r[o])||!Object.is(e[r[o]],t[r[o]]))return!1;return!0}function Lt(e,t){return null==e||"auto"===e?t:e}let Ht=!1;function At(e){Ht||(Ht=!0,console.warn("[ali-react-table] column.hidden 已经过时，如果需要隐藏该列，请将其从 columns 数组中移除",e))}function zt(e){let t=0;for(const r of e){if(!n(r))break;t+=1}return t;function n(e){return gt(e)?e.lock:e.lock||e.children.some(n)}}function Vt({descriptors:e}){return s().createElement("colgroup",null,e.map((e=>"blank"===e.type?s().createElement("col",{key:e.blankSide,style:{width:e.width}}):s().createElement("col",{key:e.colIndex,style:{width:e.col.width}}))))}const Kt="art-",Wt={artTableWrapper:`${Kt}table-wrapper`,artTable:`${Kt}table`,tableHeader:`${Kt}table-header`,tableBody:`${Kt}table-body`,tableFooter:`${Kt}table-footer`,tableRow:`${Kt}table-row`,tableHeaderRow:`${Kt}table-header-row`,tableCell:`${Kt}table-cell`,tableHeaderCell:`${Kt}table-header-cell`,virtualBlank:`${Kt}virtual-blank`,stickyScroll:`${Kt}sticky-scroll`,stickyScrollItem:`${Kt}sticky-scroll-item`,horizontalScrollContainer:`${Kt}horizontal-scroll-container`,lockShadowMask:`${Kt}lock-shadow-mask`,lockShadow:`${Kt}lock-shadow`,leftLockShadow:`${Kt}left-lock-shadow`,rightLockShadow:`${Kt}right-lock-shadow`,emptyWrapper:`${Kt}empty-wrapper`,loadingWrapper:`${Kt}loading-wrapper`,loadingIndicatorWrapper:`${Kt}loading-indicator-wrapper`,loadingIndicator:`${Kt}loading-indicator`},Dt=Ye.iv`
  border-top: var(--cell-border-horizontal);
  border-right: var(--cell-border-vertical);
  border-bottom: var(--cell-border-horizontal);
  border-left: var(--cell-border-vertical);

  td.first,
  th.first {
    border-left: none;
  }
  td.last,
  th.last {
    border-right: none;
  }

  thead tr.first th,
  tbody tr.first td {
    border-top: none;
  }
  &.has-footer tfoot tr.last td {
    border-bottom: none;
  }
  &:not(.has-footer) tbody tr.last td {
    border-bottom: none;
  }
`,Bt=Ye.ZP.div`
  --row-height: 48px;
  --color: #333;
  --bgcolor: white;
  --hover-bgcolor: var(--hover-color, #f5f5f5);
  --highlight-bgcolor: #eee;

  --header-row-height: 32px;
  --header-color: #5a6c84;
  --header-bgcolor: #e9edf2;
  --header-hover-bgcolor: #ddd;
  --header-highlight-bgcolor: #e4e8ed;

  --cell-padding: 8px 12px;
  --font-size: 12px;
  --line-height: 1.28571;
  --lock-shadow: rgba(152, 152, 152, 0.5) 0 0 6px 2px;

  --border-color: #dfe3e8;
  --cell-border: 1px solid var(--border-color);
  --cell-border-horizontal: var(--cell-border);
  --cell-border-vertical: var(--cell-border);
  --header-cell-border: 1px solid var(--border-color);
  --header-cell-border-horizontal: var(--header-cell-border);
  --header-cell-border-vertical: var(--header-cell-border);

  box-sizing: border-box;
  * {
    box-sizing: border-box;
  }
  cursor: default;
  color: var(--color);
  font-size: var(--font-size);
  line-height: var(--line-height);
  position: relative;
  overflow-anchor: none;

  // 表格外边框由 art-table-wrapper 提供，而不是由单元格提供
  &.use-outer-border {
    ${Dt};
  }

  .no-scrollbar {
    // firefox 中移除滚动条
    scrollbar-width: none;

    // 其他浏览器中移除滚动条
    ::-webkit-scrollbar {
      display: none;
    }
  }

  .${Wt.tableHeader} {
    overflow-x: auto;
    overflow-y: hidden;
    background: var(--header-bgcolor);
  }

  .${Wt.tableBody}, .${Wt.tableFooter} {
    overflow-x: auto;
    overflow-y: hidden;
    background: var(--bgcolor);
  }

  &.sticky-header .${Wt.tableHeader} {
    position: sticky;
    top: 0;
    z-index: ${15};
  }

  &.sticky-footer .${Wt.tableFooter} {
    position: sticky;
    bottom: 0;
    z-index: ${10};
  }

  table {
    width: 100%;
    table-layout: fixed;
    border-collapse: separate;
    border-spacing: 0;
    display: table;
    margin: 0;
    padding: 0;
  }

  // 在 tr 上设置 .no-hover 可以禁用鼠标悬停效果
  tr:not(.no-hover):hover > td {
    background: var(--hover-bgcolor);
  }
  // 在 tr 设置 highlight 可以为底下的 td 设置为高亮色
  // 而设置 .no-highlight 的话则可以禁用高亮效果；
  tr:not(.no-highlight).highlight > td {
    background: var(--highlight-bgcolor);
  }

  th {
    font-weight: normal;
    text-align: left;
    padding: var(--cell-padding);
    height: var(--header-row-height);
    color: var(--header-color);
    background: var(--header-bgcolor);
    border: none;
    border-right: var(--header-cell-border-vertical);
    border-bottom: var(--header-cell-border-horizontal);
  }
  tr.first th {
    border-top: var(--header-cell-border-horizontal);
  }
  th.first {
    border-left: var(--header-cell-border-vertical);
  }

  td {
    padding: var(--cell-padding);
    background: var(--bgcolor);
    height: var(--row-height);
    border: none;
    border-right: var(--cell-border-vertical);
    border-bottom: var(--cell-border-horizontal);
  }
  td.first {
    border-left: var(--cell-border-vertical);
  }
  tr.first td {
    border-top: var(--cell-border-horizontal);
  }
  &.has-header tbody tr.first td {
    border-top: none;
  }
  &.has-footer tbody tr.last td {
    border-bottom: none;
  }

  .lock-left,
  .lock-right {
    z-index: ${5};
  }

  //#region 锁列阴影
  .${Wt.lockShadowMask} {
    position: absolute;
    top: 0;
    bottom: 0;
    z-index: ${20};
    pointer-events: none;
    overflow: hidden;

    .${Wt.lockShadow} {
      height: 100%;
    }

    .${Wt.leftLockShadow} {
      margin-right: ${20}px;
      box-shadow: none;

      &.show-shadow {
        box-shadow: var(--lock-shadow);
        border-right: var(--cell-border-vertical);
      }
    }

    .${Wt.rightLockShadow} {
      margin-left: ${20}px;
      box-shadow: none;

      &.show-shadow {
        box-shadow: var(--lock-shadow);
        border-left: var(--cell-border-vertical);
      }
    }
  }
  //#endregion

  //#region 空表格展现
  .${Wt.emptyWrapper} {
    pointer-events: none;
    color: #99a3b3;
    font-size: 12px;
    text-align: center;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);

    .empty-image {
      width: 50px;
      height: 50px;
    }

    .empty-tips {
      margin-top: 16px;
      line-height: 1.5;
    }
  }
  //#endregion

  //#region 粘性滚动条
  .${Wt.stickyScroll} {
    overflow: auto;
    position: sticky;
    bottom: 0;
    z-index: ${30};
    margin-top: -17px;
  }

  .${Wt.stickyScrollItem} {
    // 必须有高度才能出现滚动条
    height: 1px;
    visibility: hidden;
  }
  //#endregion

  //#region 加载样式
  .${Wt.loadingWrapper} {
    position: relative;

    .${Wt.loadingIndicatorWrapper} {
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
      pointer-events: none;
    }

    .${Wt.loadingIndicator} {
      position: sticky;
      z-index: ${40};
      transform: translateY(-50%);
    }
  }
  //#endregion
`,$t=s().memo((()=>s().createElement(s().Fragment,null,s().createElement("img",{alt:"empty-image",className:"empty-image",src:"//img.alicdn.com/tfs/TB1l1LcM3HqK1RjSZJnXXbNLpXa-50-50.svg"}),s().createElement("div",{className:"empty-tips"},"没有符合查询条件的数据",s().createElement("br",null),"请修改条件后重新查询"))));function Gt({descriptors:e,isLoading:t,emptyCellHeight:n,EmptyContent:r=$t}){const i=!t;return s().createElement("table",null,s().createElement(Vt,{descriptors:e}),s().createElement("tbody",null,s().createElement("tr",{className:o()(Wt.tableRow,"first","last","no-hover"),"data-rowindex":0},s().createElement("td",{className:o()(Wt.tableCell,"first","last"),colSpan:e.length,style:{height:null!=n?n:200}},i&&s().createElement("div",{className:Wt.emptyWrapper},s().createElement(r,null))))))}function Ft(e){const t=[];for(let n=0;n<e;n++)t.push(n);return t}function Yt(e,t){const n=[];for(let e=0;e<t;e++)n.push([]);const r=[];return function e(t,o){let i=0;for(let s=0;s<t.length;s++){const l=t[s];if(gt(l)){i+=1;const e={type:"normal",width:l.col.width,col:l.col,colIndex:l.colIndex,colSpan:1,isLeaf:!0};n[o].push(e),r.push(e)}else{const t=e(l.children,o+1);i+=t.leafCount,t.leafCount>0&&n[o].push({type:"normal",width:l.col.width,col:l.col,colIndex:l.colIndex,colSpan:t.leafCount,isLeaf:!1})}}return{leafCount:i}}(e,0),{flat:r,leveled:n}}function Ut(e,t){return function e(t,n){const r=[];let o=0;for(let i=0;i<t.length;i++){const s=t[i],l=n+o;if(gt(s))o+=1,r.push({colIndex:l,col:s});else{const t=e(s.children,l);o+=t.leafCount,t.leafCount>0&&r.push({col:s,colIndex:l,children:t.result})}}return{result:r,leafCount:o}}(e,t).result}function qt({info:e}){const{nested:t,flat:n,stickyLeftMap:r,stickyRightMap:i}=e,l=vt(t.full)+1,a=function({flat:e,nested:t,horizontalRenderRange:n,useVirtual:r},o){if(r.header){const r=Yt(Ut(t.left,0),o),i=function(e,t,n){return function e(r,o){let i=0;const s=[];for(const l of r){const r=o+i;if(gt(l))i+=1,n+t.leftIndex<=r&&r<n+t.rightIndex&&s.push({colIndex:r,col:l});else{const t=e(l.children,r);i+=t.leafCount,t.filtered.length>0&&s.push({colIndex:r,col:l,children:t.filtered})}}return{filtered:s,leafCount:i}}(e,n).filtered}(t.center,n,e.left.length),s=Yt(i,o),l=Yt(Ut(t.right,e.left.length+e.center.length),o);return{flat:[...r.flat,{type:"blank",width:n.leftBlank,blankSide:"left"},...s.flat,{type:"blank",width:n.rightBlank,blankSide:"right"},...l.flat],leveled:Ft(o).map((e=>[...r.leveled[e],{type:"blank",width:n.leftBlank,blankSide:"left"},...s.leveled[e],{type:"blank",width:n.rightBlank,blankSide:"right"},...l.leveled[e]]))}}return Yt(Ut(t.full,0),o)}(e,l),c=n.full.length,u=n.left.length,h=n.right.length,d=a.leveled.map(((e,t)=>{const n=e.map((e=>{var n,a;if("normal"===e.type){const{colIndex:d,colSpan:f,isLeaf:p,col:g}=e,b=null!==(n=g.headerCellProps)&&void 0!==n?n:{},v={};return d<u?(v.position="sticky",v.left=r.get(d)):d>=c-h&&(v.position="sticky",v.right=i.get(d+f-1)),s().createElement("th",Object.assign({key:d},b,{className:o()(Wt.tableHeaderCell,b.className,{first:0===d,last:d+f===c,"lock-left":d<u,"lock-right":d>=c-h}),colSpan:f,rowSpan:p?l-t:void 0,style:Object.assign(Object.assign({textAlign:g.align},b.style),v)}),null!==(a=g.title)&&void 0!==a?a:g.name)}return e.width>0?s().createElement("th",{key:e.blankSide}):null}));return s().createElement("tr",{key:t,className:o()(Wt.tableHeaderRow,{first:0===t,last:t===l-1})},n)}));return s().createElement("table",null,s().createElement("colgroup",null,a.flat.map((e=>"blank"===e.type?e.width>0?s().createElement("col",{key:e.blankSide,style:{width:e.width}}):null:s().createElement("col",{key:e.colIndex,style:{width:e.width}})))),s().createElement("thead",null,d))}function Xt(e){return e?(e.nodeName||"").toLowerCase():null}function Zt(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Jt(e){return Zt(e).getComputedStyle(e)}function Qt(e){return e instanceof Zt(e).HTMLElement||e instanceof HTMLElement}function en(e){return["table","td","th"].indexOf(Xt(e))>=0}function tn(e){return"html"===Xt(e)?e:e.assignedSlot||e.parentNode||(t=e,"undefined"!=typeof ShadowRoot&&(t instanceof Zt(t).ShadowRoot||t instanceof ShadowRoot)?e.host:null)||function(e){return(t=e,(t instanceof Zt(t).Element||t instanceof Element?e.ownerDocument:e.document)||window.document).documentElement;var t}(e);var t}function nn(e){return Qt(e)&&"fixed"!==Jt(e).position?e.offsetParent:null}function rn(e){for(var t=Zt(e),n=nn(e);n&&en(n)&&"static"===Jt(n).position;)n=nn(n);return n&&("html"===Xt(n)||"body"===Xt(n)&&"static"===Jt(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Qt(e)&&"fixed"===Jt(e).position)return null;for(var n=tn(e);Qt(n)&&["html","body"].indexOf(Xt(n))<0;){var r=Jt(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function on(e){return"[object Window]"===e.toString()}function sn(e){return function(e){return"html"===Xt(e)}(e)||function(e){return"body"===Xt(e)}(e)}function ln(e,t,n){let r=0,o=e;for(;null!=o&&(r+=o[n],!(o===t||on(t)&&sn(o)));)o=o.parentElement;var i,s;return on(t)&&(r+=(i=o,s=Zt(i),{scrollLeft:s.pageXOffset,scrollTop:s.pageYOffset})[n]),r}function an(e,t){if(on(t)||sn(t))return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight};let n=0,r=0,o=t;for(;null!=o&&o!=e;){r+=o.offsetTop,n+=o.offsetLeft;const e=rn(o);if(r-=ln(o.parentElement,e,"scrollTop"),n-=ln(o.parentElement,e,"scrollLeft"),on(e))break;r+=e.clientTop,n+=e.clientLeft,o=e}return{top:r,bottom:r+t.offsetHeight,left:n,right:n+t.offsetWidth}}function cn(e,t){if(on(t))return t;const n=function(e){const t=[];let n=e;for(;!on(n);)n=rn(n),t.push(n);return t}(e);return n.includes(t)?t:rn(t)}function un(e){return on(e)?V(e,"resize",{passive:!0}):new E((t=>{const n=new pt((e=>{t.next(e)}));return n.observe(e),()=>{n.disconnect()}}))}function hn(e){return["html","body","#document"].includes(Xt(e))?Zt(e):Qt(e)&&(n=(t=Jt(e)).overflow,r=t.overflowX,o=t.overflowY,/auto|scroll|overlay|hidden/.test(n+o+r))?e:hn(tn(e));var t,n,r,o}function dn(e,t,n){return t.pipe(be("init"),H((()=>{const t=hn(e);return{scrollParent:t,commonOffsetAncestor:cn(e,t)}})),ve(Nt),we((t=>{n&&console.log(`%c[ali-react-table STRUCTURE ${n}]`,"color: #4f9052; font-weight: bold","\ntarget:",e,"\nscrollParent:",t.scrollParent,"\ncommonOffsetAncestor:",t.commonOffsetAncestor)})),ke((({scrollParent:t,commonOffsetAncestor:n})=>{const r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,r=null,o=e[e.length-1];return J(o)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof o&&(n=e.pop()),null===r&&1===e.length&&e[0]instanceof E?e[0]:ie(n)(se(e,r))}(V(t,"scroll",{passive:!0}),un(t),un(e));return r.pipe(H((r=>({targetRect:an(n,e),scrollParentRect:an(n,t),event:r}))),H((({event:e,scrollParentRect:t,targetRect:n})=>({event:e,targetRect:n,scrollParentRect:t,offsetY:Math.max(0,t.top-n.top),clipRect:{left:Math.max(n.left,t.left),top:Math.max(n.top,t.top),right:Math.min(n.right,t.right),bottom:Math.min(n.bottom,t.bottom)}}))))})),we((e=>{n&&console.log(`%c[ali-react-table RECTS ${n}]`,"color: #4f9052; font-weight: bold","\noffsetY:",e.offsetY,"\ntargetRect:",e.targetRect,"\nscrollParentRect:",e.scrollParentRect,"\nclipRect:",e.clipRect,"\nevent:",e.event)})))}class fn{constructor(e){this.artTableWrapper=e,this.artTable=e.querySelector(`.${Wt.artTable}`),this.tableHeader=this.artTable.querySelector(`:scope > .${Wt.tableHeader}`),this.tableBody=this.artTable.querySelector(`:scope > .${Wt.tableBody}`),this.tableFooter=this.artTable.querySelector(`:scope > .${Wt.tableFooter}`);const t=`.${Wt.artTable} + .${Wt.stickyScroll}`;this.stickyScroll=e.querySelector(t),this.stickyScrollItem=this.stickyScroll.querySelector(`.${Wt.stickyScrollItem}`)}getVirtualTop(){return this.tableBody.querySelector(`.${Wt.virtualBlank}.top`)}getTableRows(){return this.getTableBodyHtmlTable().querySelectorAll(`:scope > tbody > .${Wt.tableRow}`)}getTableBodyHtmlTable(){return this.artTable.querySelector(`.${Wt.tableBody} table`)}getLeftLockShadow(){const e=`:scope > .${Wt.lockShadowMask} .${Wt.leftLockShadow}`;return this.artTable.querySelector(e)}getRightLockShadow(){const e=`:scope > .${Wt.lockShadowMask} .${Wt.rightLockShadow}`;return this.artTable.querySelector(e)}getLoadingIndicator(){return this.artTableWrapper.querySelector(`.${Wt.loadingIndicator}`)}}function pn({tbodyHtmlTag:e,getRowProps:t,primaryKey:n,data:r,verticalRenderInfo:i,horizontalRenderInfo:l,components:{Row:a,Cell:c,TableBody:u}}){const{flat:h,horizontalRenderRange:d}=l,f=new xt,p=h.full.length,g=h.left.length,b=h.right.length,v=null!=u&&"tbody"===e?s().createElement(u,{tbodyProps:{children:r.map(m)}}):s().createElement(e,null,r.map(m));return s().createElement("table",null,s().createElement(Vt,{descriptors:l.visible}),v);function m(r,u){const h=i.offset+u;f.stripUpwards(h);const v=t(r,h),m=o()(Wt.tableRow,{first:h===i.first,last:h===i.last,even:h%2==0,odd:h%2==1},null==v?void 0:v.className),y=Object.assign(Object.assign({},v),{className:m,"data-rowindex":h,children:l.visible.map((t=>"blank"===t.type?s().createElement("td",{key:t.blankSide}):function(t,n,r,a){var u,h;if(f.testSkip(n,a))return null;const v=Et.safeGetValue(r,t,n),m=null!==(h=null===(u=r.getCellProps)||void 0===u?void 0:u.call(r,v,t,n))&&void 0!==h?h:{};let y=v;r.render&&(y=r.render(v,t,n));let w=1,S=1;if(r.getSpanRect){const e=r.getSpanRect(v,t,n);w=null==e?1:e.right-a,S=null==e?1:e.bottom-n}else null!=m.colSpan&&(w=m.colSpan),null!=m.rowSpan&&(S=m.rowSpan);S=Math.min(S,i.limit-n),w=Math.min(w,g+d.rightIndex-a);const x=w>1||S>1;x&&f.add(n,a,w,S);const k={};a<g?(k.position="sticky",k.left=l.stickyLeftMap.get(a)):a>=p-b&&(k.position="sticky",k.right=l.stickyRightMap.get(a));const E=Object.assign(Object.assign(Object.assign(Object.assign({},m),{className:o()(Wt.tableCell,m.className,{first:0===a,last:a+w===p,"lock-left":a<g,"lock-right":a>=p-b})}),x?{colSpan:w,rowSpan:S}:null),{style:Object.assign(Object.assign({textAlign:r.align},m.style),k),children:y});return null!=c&&"tbody"===e?s().createElement(c,{key:a,tdProps:E,row:t,rowIndex:n,column:r,colIndex:a}):s().createElement("td",Object.assign({key:a},E))}(r,h,t.col,t.colIndex)))}),w=Et.safeGetRowKey(n,r,h);return null!=a&&"tbody"===e?s().createElement(a,{key:w,row:r,rowIndex:h,trProps:y}):s().createElement("tr",Object.assign({key:w},y))}}const gn=s().memo((()=>s().createElement("svg",{style:{margin:"auto",display:"block",width:40,height:40},viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},s().createElement("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#23a7fa",strokeDasharray:"188 64",strokeLinecap:"round",strokeWidth:"10"},s().createElement("animateTransform",{attributeName:"transform",dur:"1.5s",keyTimes:"0;1",repeatCount:"indefinite",type:"rotate",values:"0 50 50;360 50 50"})))));function bn({children:e,visible:t}){return s().createElement("div",{className:"art-loading-content-wrapper",style:{filter:t?"blur(1px)":"none"}},e)}function vn({visible:e,children:t,LoadingContentWrapper:n=bn,LoadingIcon:r=gn}){return s().createElement("div",{className:Wt.loadingWrapper},e&&s().createElement("div",{className:Wt.loadingIndicatorWrapper},s().createElement("div",{className:Wt.loadingIndicator},s().createElement(r,null))),s().createElement(n,{visible:e,children:t}))}let mn=!1,yn=!1;class wn extends s().Component{constructor(e){super(e),this.rowHeightManager=function(e,t){const n=new Array(e).fill(t);return{getRenderRange:function(e,r,o){return n.length!==o&&function(e){if(e<n.length)n.length=e;else{const r=n.length;n.length=e,n.fill(t,r)}}(o),r<=0?e<=0?function(){const e={topIndex:0,topBlank:0},t=s(0,e);return Object.assign(Object.assign({},e),t)}():function(){const e=l(o),t=i(e),n=s(e,t);return Object.assign(Object.assign({},t),n)}():function(){const t=i(e),n=s(e+r,t);return Object.assign(Object.assign({},t),n)}();function i(e){if(0===n.length)return{topIndex:0,topBlank:0};let t=0,r=0;for(;t<n.length;){const o=n[t];if(r+o>=e)break;r+=o,t+=1}return function(e,t){let r=0,o=0;for(;o<e&&r<Tt;)o+=1,r+=n[e-o];return{topIndex:e-o,topBlank:t-r}}(t,r)}function s(e,t){let r=t.topIndex,i=t.topBlank;for(;r<o&&i<e;)i+=n[r],r+=1;return function(e,t){let r=0,i=0;for(;i<o-e&&r<Tt;)r+=n[e+i],i+=1;return{bottomIndex:e+i,bottomBlank:t-r}}(r,l(o)-i)}function l(e){return Rt(n)+(e-n.length)*t}},updateRow:function(e,t,r){n[e]=r},cache:n}}(this.props.dataSource.length,this.props.estimatedRowHeight),this.artTableWrapperRef=s().createRef(),this.rootSubscription=new v,this.state={hasScroll:!0,needRenderLock:!0,offsetY:0,offsetX:0,maxRenderHeight:600,maxRenderWidth:800}}getDoms(){return console.warn("[ali-react-table] BaseTable.getDoms() 已经过时"),this.domHelper}updateStickyScroll(){const{stickyScroll:e,artTable:t,stickyScrollItem:n}=this.domHelper;if(!t)return;const r=this.domHelper.getTableBodyHtmlTable().offsetWidth,o=t.offsetWidth,i=this.props.stickyScrollHeight,s="auto"===i?(null==Mt&&(Mt=new Z(jt()),Pt.pipe(H((()=>jt()))).subscribe(Mt)),Mt.value).height:i;e.style.marginTop=`-${s+1}px`,o>=r?this.state.hasScroll&&this.setState({hasScroll:!1}):!this.state.hasScroll&&s>5&&this.setState({hasScroll:!0}),n.style.width=`${r}px`}renderTableHeader(e){const{stickyTop:t,hasHeader:n}=this.props;return s().createElement("div",{className:o()(Wt.tableHeader,"no-scrollbar"),style:{top:0===t?void 0:t,display:n?void 0:"none"}},s().createElement(qt,{info:e}))}updateOffsetX(e){this.lastInfo.useVirtual.horizontal&&Math.abs(e-this.state.offsetX)>=Tt/2&&this.setState({offsetX:e})}syncHorizontalScrollFromTableBody(){this.syncHorizontalScroll(this.domHelper.tableBody.scrollLeft)}syncHorizontalScroll(e){this.updateOffsetX(e);const{tableBody:t}=this.domHelper,{flat:n}=this.lastInfo,r=this.domHelper.getLeftLockShadow();r&&(n.left.length>0&&this.state.needRenderLock&&e>0?r.classList.add("show-shadow"):r.classList.remove("show-shadow"));const o=this.domHelper.getRightLockShadow();o&&(n.right.length>0&&this.state.needRenderLock&&e<t.scrollWidth-t.clientWidth?o.classList.add("show-shadow"):o.classList.remove("show-shadow"))}getVerticalRenderRange(e){const{dataSource:t}=this.props,{offsetY:n,maxRenderHeight:r}=this.state,o=t.length;return e.vertical?this.rowHeightManager.getRenderRange(n,r,o):function(e){return{topIndex:0,topBlank:0,bottomIndex:e,bottomBlank:0}}(o)}renderTableBody(e){const{dataSource:t,getRowProps:n,primaryKey:r,isLoading:i,emptyCellHeight:l,footerDataSource:a,components:c}=this.props,u=o()(Wt.tableBody,Wt.horizontalScrollContainer,{"no-scrollbar":a.length>0});if(0===t.length){const{components:t,emptyContent:n}=this.props;let r=t.EmptyContent;return null==r&&null!=n&&(mn||(mn=!0,console.warn("[ali-react-table] BaseTable props.emptyContent 已经过时，请使用 props.components.EmptyContent 来自定义数据为空时的表格表现")),r=()=>n),s().createElement("div",{className:u},s().createElement(Gt,{descriptors:e.visible,isLoading:i,EmptyContent:r,emptyCellHeight:l}))}const{topIndex:h,bottomBlank:d,topBlank:f,bottomIndex:p}=e.verticalRenderRange;return s().createElement("div",{className:u},f>0&&s().createElement("div",{key:"top-blank",className:o()(Wt.virtualBlank,"top"),style:{height:f}}),s().createElement(pn,{components:c,tbodyHtmlTag:"tbody",getRowProps:n,primaryKey:r,data:t.slice(h,p),horizontalRenderInfo:e,verticalRenderInfo:{first:0,offset:h,limit:p,last:t.length-1}}),d>0&&s().createElement("div",{key:"bottom-blank",className:o()(Wt.virtualBlank,"bottom"),style:{height:d}}))}renderTableFooter(e){const{footerDataSource:t=[],getRowProps:n,primaryKey:r,stickyBottom:i,components:l}=this.props;return s().createElement("div",{className:o()(Wt.tableFooter,Wt.horizontalScrollContainer),style:{bottom:0===i?void 0:i}},s().createElement(pn,{components:l,tbodyHtmlTag:"tfoot",data:t,horizontalRenderInfo:e,getRowProps:n,primaryKey:r,verticalRenderInfo:{offset:0,first:0,last:t.length-1,limit:1/0}}))}renderLockShadows(e){return s().createElement(s().Fragment,null,s().createElement("div",{className:Wt.lockShadowMask,style:{left:0,width:e.leftLockTotalWidth+20}},s().createElement("div",{className:o()(Wt.lockShadow,Wt.leftLockShadow)})),s().createElement("div",{className:Wt.lockShadowMask,style:{right:0,width:e.rightLockTotalWidth+20}},s().createElement("div",{className:o()(Wt.lockShadow,Wt.rightLockShadow)})))}renderStickyScroll(e){const{hasStickyScroll:t,stickyBottom:n}=this.props,{hasScroll:r}=this.state;return s().createElement("div",{className:o()(Wt.stickyScroll,Wt.horizontalScrollContainer),style:{display:t&&r?"block":"none",bottom:n}},s().createElement("div",{className:Wt.stickyScrollItem}))}render(){const e=function(e){const{offsetX:t,maxRenderWidth:n}=e.state,{useVirtual:r,columns:o,dataSource:i,defaultColumnWidth:s}=e.props,l=function(e,t){return null!=e&&Array.isArray(e)||(console.warn("[ali-react-table] <BaseTable /> props.columns 需要传入一个数组",e),e=[]),function e(n){const r=[];for(let o of n)if(null==o.width&&null!=t&&(o=Object.assign(Object.assign({},o),{width:t})),gt(o))o.hidden?At(o):r.push(o);else{const t=e(o.children);t.length>0&&r.push(Object.assign(Object.assign({},o),{children:t}))}return r}(e)}(o,s),a=zt(l),c=bt(l,"leaf-only");let u,h,d;if(a===l.length)u={left:[],right:[],full:c,center:c},h={left:[],right:[],full:l,center:l},d={horizontal:!1,vertical:!1,header:!1};else{const e=l.slice(0,a),t=zt(l.slice().reverse()),n=l.slice(a,l.length-t),o=l.slice(l.length-t),s=c.length>=100&&c.every((e=>null!=e.width)),f=i.length>=100;d={horizontal:Lt("object"==typeof r?r.horizontal:r,s),vertical:Lt("object"==typeof r?r.vertical:r,f),header:Lt("object"==typeof r?r.header:r,!1)},u={left:bt(e,"leaf-only"),full:c,right:bt(o,"leaf-only"),center:bt(n,"leaf-only")},h={left:e,full:l,right:o,center:n}}const f=function({offsetX:e,maxRenderWidth:t,flat:n,useVirtual:r}){if(!r.horizontal)return{leftIndex:0,leftBlank:0,rightIndex:n.full.length,rightBlank:0};let o=0,i=0,s=0,l=0;const a=Math.max(0,e-Tt);for(;o<n.center.length;){const e=n.center[o];if(!(e.width+s<a))break;o+=1,s+=e.width}const c=t+(a-s)+2*Tt;for(;o+i<n.center.length;){const e=n.center[o+i];if(!(e.width+l<c))break;l+=e.width,i+=1}const u=n.center.length-o-i;return{leftIndex:o,leftBlank:s,rightIndex:o+i,rightBlank:Rt(n.center.slice(n.center.length-u).map((e=>e.width)))}}({maxRenderWidth:n,offsetX:t,useVirtual:d,flat:u}),p=e.getVerticalRenderRange(d),{leftBlank:g,leftIndex:b,rightBlank:v,rightIndex:m}=f,y=[...u.left.map(((e,t)=>({type:"normal",col:e,colIndex:t}))),g>0&&{type:"blank",blankSide:"left",width:g},...u.center.slice(b,m).map(((e,t)=>({type:"normal",col:e,colIndex:u.left.length+b+t}))),v>0&&{type:"blank",blankSide:"right",width:v},...u.right.map(((e,t)=>({type:"normal",col:e,colIndex:u.full.length-u.right.length+t})))].filter(Boolean),w=u.full.length,S=u.left.length,x=u.right.length,k=new Map;let E=0;for(let e=0;e<S;e++)k.set(e,E),E+=u.full[e].width;const _=new Map;let C=0;for(let e=0;e<x;e++)_.set(w-1-e,C),C+=u.full[w-1-e].width;const O=Rt(u.left.map((e=>e.width))),T=Rt(u.right.map((e=>e.width)));return{horizontalRenderRange:f,verticalRenderRange:p,visible:y,flat:u,nested:h,useVirtual:d,stickyLeftMap:k,stickyRightMap:_,leftLockTotalWidth:O,rightLockTotalWidth:T,hasLockColumn:h.left.length>0||h.right.length>0}}(this);this.lastInfo=e;const{dataSource:t,className:n,style:r,hasHeader:i,useOuterBorder:l,isStickyHead:a,isStickyHeader:c,isStickyFooter:u,isLoading:h,footerDataSource:d,components:f,flowRoot:p}=this.props;null!=p&&(yn||(yn=!0,console.warn("[ali-react-table] BaseTable v2.4 版本之后已经不再需要指定 flowRoot")));const g={className:o()(Wt.artTableWrapper,{"use-outer-border":l,empty:0===t.length,lock:e.hasLockColumn,"has-header":i,"sticky-header":null!=c?c:a,"has-footer":d.length>0,"sticky-footer":u},n),style:r,[Ot]:this.artTableWrapperRef};return s().createElement(Bt,Object.assign({},g),s().createElement(vn,{visible:h,LoadingIcon:f.LoadingIcon,LoadingContentWrapper:f.LoadingContentWrapper},s().createElement("div",{className:Wt.artTable},this.renderTableHeader(e),this.renderTableBody(e),this.renderTableFooter(e),this.renderLockShadows(e)),this.renderStickyScroll(e)))}componentDidMount(){this.updateDOMHelper(),this.props$=new Z(this.props),this.initSubscriptions(),this.didMountOrUpdate()}componentDidUpdate(e,t){this.updateDOMHelper(),this.props$.next(this.props),this.didMountOrUpdate(e,t)}didMountOrUpdate(e,t){this.syncHorizontalScrollFromTableBody(),this.updateStickyScroll(),this.adjustNeedRenderLock(),this.updateRowHeightManager(),this.updateScrollLeftWhenLayoutChanged(e,t)}updateScrollLeftWhenLayoutChanged(e,t){if(null!=t&&!t.hasScroll&&this.state.hasScroll&&(this.domHelper.stickyScroll.scrollLeft=0),null!=e){const t=e.footerDataSource.length>0,n=this.props.footerDataSource.length>0;!t&&n&&(this.domHelper.tableFooter.scrollLeft=this.domHelper.tableBody.scrollLeft)}}initSubscriptions(){const{tableHeader:e,tableBody:t,tableFooter:n,stickyScroll:r}=this.domHelper;this.rootSubscription.add(Pt.subscribe((()=>{this.updateStickyScroll(),this.adjustNeedRenderLock()}))),this.rootSubscription.add(function(e,t){const n=new Set;function r(t,r){n.clear();for(const o of e)o!==t&&(o.scrollLeft=r,n.add(o))}const o=new v;for(const i of e){const e=()=>{if(n.has(i))return void n.delete(i);const e=i.scrollLeft;r(i,e),t(e)};i.addEventListener("scroll",e,{passive:!0}),o.add((()=>i.removeEventListener("scroll",e)))}return o}([e,t,n,r],(e=>{this.syncHorizontalScroll(e)})));const o=dn(this.domHelper.artTable,this.props$.pipe((1,function(e){return e.lift(new Oe(1))}),("structure-may-change",function(e){return e.lift(new Re("structure-may-change"))})),this.props.virtualDebugLabel).pipe(function(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,o=void 0===r?Number.POSITIVE_INFINITY:r,i=e.windowTime,s=void 0===i?Number.POSITIVE_INFINITY:i,l=e.refCount,a=e.scheduler,c=0,u=!1,h=!1;return function(e){var r;c++,!t||u?(u=!1,t=new He(o,s,a),r=t.subscribe(this),n=e.subscribe({next:function(e){t.next(e)},error:function(e){u=!0,t.error(e)},complete:function(){h=!0,n=void 0,t.complete()}}),h&&(n=void 0)):r=t.subscribe(this),this.add((function(){c--,r.unsubscribe(),r=void 0,n&&!h&&l&&0===c&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(r))}}());this.rootSubscription.add(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return J(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&p(e[0])&&(e=e[0]),se(e,r).lift(new he(n))}([o.pipe(H((e=>e.clipRect)),ve(Nt)),this.props$.pipe(be(null),(function(e){return e.lift(new ze)}),Ke((([e,t])=>null==e||!e.isLoading&&t.isLoading)))]).subscribe((([e])=>{const t=this.domHelper.getLoadingIndicator();if(!t)return;const n=e.bottom-e.top;t.style.top=n/2+"px",t.style.marginTop=n/2+"px"}))),this.rootSubscription.add(o.pipe(Ke((()=>{const{horizontal:e,vertical:t}=this.lastInfo.useVirtual;return e||t})),H((({clipRect:e,offsetY:t})=>({maxRenderHeight:e.bottom-e.top,maxRenderWidth:e.right-e.left,offsetY:t}))),ve(((e,t)=>Math.abs(e.maxRenderWidth-t.maxRenderWidth)<Tt/2&&Math.abs(e.maxRenderHeight-t.maxRenderHeight)<Tt/2&&Math.abs(e.offsetY-t.offsetY)<Tt/2))).subscribe((e=>{this.setState(e)})))}componentWillUnmount(){this.rootSubscription.unsubscribe()}updateDOMHelper(){this.domHelper=new fn(this.artTableWrapperRef.current)}updateRowHeightManager(){var e;const t=this.domHelper.getVirtualTop(),n=null!==(e=null==t?void 0:t.clientHeight)&&void 0!==e?e:0;let r=0,o=-1,i=-1;for(const e of this.domHelper.getTableRows()){const t=Number(e.dataset.rowindex);if(isNaN(t))continue;o=Math.max(o,t);const s=e.offsetTop+n,l=e.offsetHeight;0===l&&(r+=1),i=Math.max(i,s+l),this.rowHeightManager.updateRow(t,s,l)}-1!==o&&0===r&&i<this.state.offsetY+this.state.maxRenderHeight&&this.getVerticalRenderRange(this.lastInfo.useVirtual).bottomIndex-1>o&&this.forceUpdate()}adjustNeedRenderLock(){const{needRenderLock:e}=this.state,{flat:t,hasLockColumn:n}=this.lastInfo;if(n){const n=Rt(t.full.map((e=>e.width)))>this.domHelper.artTable.clientWidth;e!==n&&this.setState({needRenderLock:n})}else e&&this.setState({needRenderLock:!1})}}function Sn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}wn.defaultProps={hasHeader:!0,isStickyHeader:!0,stickyTop:0,footerDataSource:[],isStickyFooter:!0,stickyBottom:0,hasStickyScroll:!0,stickyScrollHeight:"auto",useVirtual:"auto",estimatedRowHeight:48,isLoading:!1,components:{},getRowProps:fe,dataSource:[]};const xn=Ye.ZP.div`
  display: inline-flex;
  align-items: center;
`,kn=(0,Ye.ZP)(xn)`
  &.leaf {
    cursor: default;
  }

  .expansion-icon {
    fill: #999;
    flex: 0 0 16px;
    transition: transform 200ms;

    &.expanded {
      transform-origin: center center;
      transform: rotate(90deg);
    }
  }
`,En={Loading:function(e){return s().createElement("svg",Object.assign({width:"16",height:"16",fill:"currentColor",viewBox:"0 0 1024 1024"},e),s().createElement("path",{d:"M512 74.667c-17.067 0-32 14.933-32 32V256c0 17.067 14.933 32 32 32s32-14.933 32-32V106.667c0-17.067-14.933-32-32-32zm181.333 288c8.534 0 17.067-2.134 23.467-8.534L821.333 249.6c12.8-12.8 12.8-32 0-44.8-12.8-12.8-32-12.8-44.8 0L672 309.333c-12.8 12.8-12.8 32 0 44.8 4.267 6.4 12.8 8.534 21.333 8.534zm224 117.333H768c-17.067 0-32 14.933-32 32s14.933 32 32 32h149.333c17.067 0 32-14.933 32-32s-14.933-32-32-32zM714.667 669.867c-12.8-12.8-32-12.8-44.8 0s-12.8 32 0 44.8L774.4 819.2c6.4 6.4 14.933 8.533 23.467 8.533s17.066-2.133 23.466-8.533c12.8-12.8 12.8-32 0-44.8L714.667 669.867zM512 736c-17.067 0-32 14.933-32 32v149.333c0 17.067 14.933 32 32 32s32-14.933 32-32V768c0-17.067-14.933-32-32-32zm-202.667-66.133L204.8 774.4c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 14.933 8.533 23.467 8.533s17.066-2.133 23.466-8.533l104.534-104.533c12.8-12.8 12.8-32 0-44.8s-36.267-12.8-46.934 0zM288 512c0-17.067-14.933-32-32-32H106.667c-17.067 0-32 14.933-32 32s14.933 32 32 32H256c17.067 0 32-14.933 32-32zm-40.533-309.333c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8L307.2 352c6.4 6.4 14.933 8.533 23.467 8.533s17.066-2.133 23.466-8.533c12.8-12.8 12.8-32 0-44.8L247.467 202.667z"}))},CaretDown:function(e){return s().createElement("svg",Object.assign({focusable:"false",preserveAspectRatio:"xMidYMid meet",fill:"currentColor",width:"16",height:"16",viewBox:"0 0 32 32"},e),s().createElement("path",{d:"M24 12L16 22 8 12z"}))},CaretRight:function(e){return s().createElement("svg",Object.assign({focusable:"false",preserveAspectRatio:"xMidYMid meet",fill:"currentColor",width:"16",height:"16",viewBox:"0 0 32 32"},e),s().createElement("path",{d:"M12 8L22 16 12 24z"}))},Info:function(e){return s().createElement("svg",Object.assign({focusable:"false",preserveAspectRatio:"xMidYMid meet",fill:"currentColor",width:"16",height:"16",viewBox:"0 0 16 16"},e),s().createElement("path",{d:"M8.5 11L8.5 6.5 6.5 6.5 6.5 7.5 7.5 7.5 7.5 11 6 11 6 12 10 12 10 11zM8 3.5c-.4 0-.8.3-.8.8S7.6 5 8 5c.4 0 .8-.3.8-.8S8.4 3.5 8 3.5z"}),s().createElement("path",{d:"M8,15c-3.9,0-7-3.1-7-7s3.1-7,7-7s7,3.1,7,7S11.9,15,8,15z M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z"}))}},_n=Symbol("treeMetaSymbol");class Cn{constructor({state:e,setState:t,ctx:n}){this._snapshots={},this._rowPropsGetters=[],this.ctx={components:{},indents:Cn.defaultIndents},this.state=e,this.setState=t,Object.assign(this.ctx,n)}appendRowPropsGetter(e){return this._rowPropsGetters.push(e),this}getDataSource(e){return null==e?this._dataSource:this._snapshots[e].dataSource}getColumns(e){return null==e?this._columns:this._snapshots[e].columns}getStateAtKey(e,t){var n;return null!==(n=this.state[e])&&void 0!==n?n:t}setStateAtKey(e,t,n){this.setState((n=>Object.assign(Object.assign({},n),{[e]:t})),e,t,n)}ensurePrimaryKey(e){if(null==this.ctx.primaryKey)throw new Error(e?`使用 ${e} 之前必须先设置 primaryKey`:"必须先设置 primaryKey");return this.ctx.primaryKey}input(e){if(null!=this._dataSource||null!=this._columns)throw new Error("input 不能调用两次");return this._dataSource=e.dataSource,this._columns=e.columns,this.snapshot("input"),this}dataSource(e){return this._dataSource=e,this}columns(e){return this._columns=e,this}primaryKey(e){return this.ctx.primaryKey=e,this}snapshot(e){return this._snapshots[e]={dataSource:this._dataSource,columns:this._columns,rowPropsGetters:this._rowPropsGetters.slice()},this}useTransform(e){const t=e({dataSource:this.getDataSource(),columns:this.getColumns()});return this.dataSource(t.dataSource).columns(t.columns)}use(e){return e(this)}mapDataSource(e){return this.dataSource(e(this.getDataSource()))}mapColumns(e){return this.columns(e(this.getColumns()))}getProps(){const e={dataSource:this._dataSource,columns:this._columns};return this.ctx.primaryKey&&(e.primaryKey=this.ctx.primaryKey),this._rowPropsGetters.length>0&&(e.getRowProps=(e,t)=>this._rowPropsGetters.reduce(((n,r)=>Ct(n,r(e,t))),{})),e}}function On(e){const[t,n]=(0,i.useState)({});return new Cn({state:t,setState:n,ctx:e})}function Tn(e){return function(t){return t.lift(new Rn(e))}}Cn.defaultIndents={iconIndent:-8,iconWidth:16,iconGap:0,indentSize:16};var Rn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new Pn(e),r=te(this.notifier,new Q(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n},e}(),Pn=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return a(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(ee);function In(e,t){const n={};for(const r of e){const e=t(r);null==n[e]&&(n[e]=[]),n[e].push(r)}return n}function jn(e,...t){return t.reduce(((e,t)=>t(e)),e)}function Mn(e,t,n){const r=new Map,o=e=>{if(r.has(e))return r.get(e);const t={id:e,parent:null,item:null,children:[]};return r.set(e,t),t};for(const r of n){const n=o(r[t]),i=o(r[e]);i.parent=n,n.children.push(i),i.item=r}return function e(t){const n=[];for(const r of t)0===r.children.length?n.push(r.item):n.push(Object.assign(Object.assign({},r.item),{children:e(r.children)}));return n}(yt(Array.from(r.values()).filter((e=>null==e.parent)),(e=>e.children)))}function Nn({c:e,r:t},n,r){return{c:e+n,r:t+r}}function Ln(e,t,n,r){const o=e.utils.aoa_to_sheet([]),i=vt(n)+1,s={c:0,r:0};function l(t,n){e.utils.sheet_add_aoa(o,[[t]],{origin:n})}function a(e,t,n){1===t&&1===n||(null==o["!merges"]&&(o["!merges"]=[]),o["!merges"].push({s:e,e:Nn(e,t-1,n-1)}))}!function(e){!function t(n,r,o){var s;const c=Nn(e,r,o);let u=0;for(const e of n){if(null===(s=e.features)||void 0===s?void 0:s.noExport)continue;const n=Nn(c,u,0);if(l(e.name,n),gt(e))u+=1,a(n,1,i-o);else{const i=t(e.children,r+u,o+1);a(n,i,1),u+=i}}return u}(n,0,0)}(s),function(r){const i=bt(n,"leaf-only").filter((e=>{var t;return!(null===(t=e.features)||void 0===t?void 0:t.noExport)})),s=new xt;!function(t,n){e.utils.sheet_add_aoa(o,t,{origin:n})}(t.map(((e,t)=>(s.stripUpwards(t),i.map(((n,o)=>{if(s.testSkip(t,o))return null;const i=function(e,t,n,r){let o=1,i=1;if(e.getSpanRect){const s=Et.safeGetValue(e,t,n),l=e.getSpanRect(s,t,n);o=null==l?1:l.right-r,i=null==l?1:l.bottom-n}else{const r=Et.safeGetCellProps(e,t,n);null!=r.colSpan&&(o=r.colSpan),null!=r.rowSpan&&(i=r.rowSpan)}return{top:n,bottom:n+i,left:r,right:r+o}}(n,e,t,o),l=i.bottom-i.top,c=i.right-i.left;return(l>1||c>1)&&(s.add(i.top,i.left,c,l),a(Nn(r,i.left,i.top),c,l)),(u=Et.safeGetValue(n,e,t))===1/0||u===-1/0||"number"==typeof u&&isNaN(u)?null:u;var u}))))),r)}(Nn(s,0,i)),e.writeFile({SheetNames:["Sheet1"],Sheets:{Sheet1:o}},r)}function Hn(e,t){return function n(r){return Array.isArray(e)?r.map((e=>gt(e)?e:Object.assign(Object.assign({},e),{children:n(e.children)}))).sort(t):e}(e)}const An=Symbol("factory-symbol");function zn(e,t="auto"){const n=Object.keys(e);function r(t){const r=Object.assign({},t);return n.forEach((t=>{var n;if(r[t]===zn.empty)return void delete r[t];const o=e[t];var i;(i=o)&&i[An]?r[t]=o(r[t]):r[t]=null!==(n=r[t])&&void 0!==n?n:o})),r}function o(e){return("auto"===t?Array.isArray(e):t)?null==e?[]:e.map(r):r(e)}return o[An]=!0,o.extends=e=>{const n=zn(e,t);return e=>o(n(e))},o}function Vn(e){return t=>function t(n,r,o){let i=0;const s=[];for(const l of n){o.push(l);const n=r+i;let a;if(gt(l))a=e(l,{startIndex:n,endIndex:n+1,path:o.slice(),isLeaf:!0}),i+=1;else{const r=t(l.children,n,o);a=e(Object.assign(Object.assign({},l),{children:r.result}),{startIndex:n,endIndex:n+r.flatCount,path:o.slice(),isLeaf:!1}),i+=r.flatCount}Array.isArray(a)?s.push(...a):null!=a&&s.push(a),o.pop()}return{result:s,flatCount:i}}(t,0,[]).result}function Kn(e,t){if(null==e)return 1;if(null==t)return-1;if("number"==typeof e&&"number"==typeof t)return e-t;if("string"==typeof e&&"string"==typeof t)return e<t?-1:e>t?1:0;if(Array.isArray(e)&&Array.isArray(t)){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Kn(e[r],t[r]);if(0!==n)return n}return e.length-t.length}return 0}function Wn(e){return({columns:t,dataSource:n})=>({dataSource:n,columns:function t(r,o){let i=0;const s=[];for(const a of r){const r=o+i;let c;if(gt(a))c=e(a,{range:{start:r,end:r+1},dataSource:n}),i+=1;else{const o=t(a.children,r);c=e(Object.assign(Object.assign({},a),{children:o.result}),{range:{start:r,end:r+o.flatColCount},dataSource:n}),i+=o.flatColCount}s.push(...(l=c,null==l?[]:Array.isArray(l)?l:[l]))}var l;return{result:s,flatColCount:i}}(t,0).result})}zn.empty=Symbol("proto.empty"),zn.string=e=>{if(null!=e&&"string"!=typeof e)throw new Error("must be string");return e},zn.string[An]=!0,zn.number=e=>{if(null!=e&&"number"!=typeof e)throw new Error("must be number");return e},zn.number[An]=!0,zn.notNull=e=>{if(null==e)throw new Error("must be not null");return e},zn.notNull[An]=!0,zn.object=e=>zn(e,!1),zn.array=e=>zn(e,!0);const Dn=new Set;function Bn(e){Dn.has(e)||(Dn.add(e),console.warn(`[ali-react-table] transform 用法已经过时，请使用 pipeline 来对表格进行拓展\n  请移除以下 API 的调用：${e}`))}function $n(e,t){return e===t}function Gn(){return Bn("makeAutoRowSpanTransform"),Wn(((e,{dataSource:t,range:n})=>{var r;if(!(null===(r=e.features)||void 0===r?void 0:r.autoRowSpan))return e;if(!gt(e))return e;const o="function"==typeof e.features.autoRowSpan?e.features.autoRowSpan:$n,i=[];let s=0,l=null,a=null;for(let r=0;r<t.length;r++){const c=t[r],u=Et.safeGetValue(e,c,r);if(0===r||!o(l,u,a,c)){const e={top:s,bottom:r,left:n.start,right:n.end};for(let t=s;t<r;t++)i.push(e);s=r}l=u,a=c}for(let e=s;e<t.length;e++)i.push({top:s,bottom:t.length,left:n.start,right:n.end});return Object.assign(Object.assign({},e),{getSpanRect:(e,t,n)=>i[n]})}))}const Fn="auto-width-wrapper",Yn="auto-width-expander",Un=Ye.ZP.div`
  height: 100%;
  display: inline-flex;
  align-items: center;
  white-space: nowrap;
  padding: 8px 12px;
`;function qn(e,t,n){Bn("useAutoWidthTransform");const[r,o]=(0,i.useState)([]);(0,i.useEffect)((()=>{const t=e.current.getDoms().artTable,n=Array.from(t.querySelectorAll(`.${Wt.tableRow}`));if(0===n.length)return;const i=[];for(const e of n)e.querySelectorAll(`.${Fn}`).forEach(((e,t)=>{var n;i[t]=Math.max(null!==(n=i[t])&&void 0!==n?n:0,e.scrollWidth)}));var s,l;l=r,(s=i).length===l.length&&s.every(((e,t)=>e===l[t]))||o(i)}),n);let l=0;const a=Wn((e=>{var n,o,i;if(!gt(e))return e;if(!(null===(n=e.features)||void 0===n?void 0:n.autoWidth))return e;const{max:a=1/0,min:c=-1/0}=e.features.autoWidth,u=null!==(i=null!==(o=r[l++])&&void 0!==o?o:e.width)&&void 0!==i?i:null==t?void 0:t.initColumnWidth,h=Math.max(c,Math.min(a,u));return Object.assign(Object.assign({},e),{width:h,getCellProps:(t,n,r)=>Ct(Et.safeGetCellProps(e,n,r),{style:{padding:0}}),render:(n,r,o)=>s().createElement(Un,{className:Fn,style:null==t?void 0:t.wrapperStyle},Et.safeRender(e,r,o))})}));return e=>{var n;const{columns:r,dataSource:o}=a(e),i=null!==(n=null==t?void 0:t.expanderVisibility)&&void 0!==n?n:"visible";return{columns:(null==t?void 0:t.appendExpander)?r.concat([{name:"",headerCellProps:{className:Yn,style:{background:"hidden"===i?"var(--bgcolor)":void 0,border:"hidden"===i?"none":void 0}},getCellProps:()=>({className:Yn,style:{visibility:i}})}]):r,dataSource:o}}}function Xn(e,t){return Bn("makeBuildTreeTransform"),({columns:n,dataSource:r})=>({columns:n,dataSource:Mn(e,t,r)})}function Zn({hoverColor:e="var(--hover-bgcolor)",hoverColIndex:t,onChangeHoverColIndex:n}){return Bn("makeColumnHoverTransform"),Wn(((r,{range:o})=>{if(!gt(r))return r;const i=o.start<=t&&t<o.end,s=r.getCellProps;return Object.assign(Object.assign({},r),{getCellProps:(t,r,l)=>Ct(null==s?void 0:s(t,r,l),{style:{"--bgcolor":i?e:void 0},onMouseEnter(){n(o.start)},onMouseLeave(){n(-1)}})})}))}function Jn({hoverColor:e,defaultHoverColIndex:t=-1}={}){const[n,r]=(0,i.useState)(t);return Zn({hoverColor:e,hoverColIndex:n,onChangeHoverColIndex:r})}const Qn={start:-1,end:-1};function er({hoverColor:e="var(--hover-bgcolor)",headerHoverColor:t="var(--header-hover-bgcolor)",hoverRange:n,onChangeHoverRange:r}){return Bn("makeColumnRangeHoverTransform"),Wn(((o,{range:i})=>{const s=i.end>n.start&&n.end>i.start;if(!gt(o))return null==t?o:Object.assign(Object.assign({},o),{headerCellProps:Ct(o.headerCellProps,{onMouseEnter(){r(i)},onMouseLeave(){r(Qn)},style:{"--header-bgcolor":s?t:void 0}})});const l=o.getCellProps;return Object.assign(Object.assign({},o),{headerCellProps:Ct(o.headerCellProps,{onMouseEnter(){r(i)},onMouseLeave(){r(Qn)},style:{"--header-bgcolor":s?t:void 0}}),getCellProps:(t,n,o)=>Ct(null==l?void 0:l(t,n,o),{onMouseEnter(){r(i)},onMouseLeave(){r(Qn)},style:{"--bgcolor":s?e:void 0}})})}))}function tr({hoverColor:e,headerHoverColor:t,defaultHoverRange:n=Qn}={}){const[r,o]=(0,i.useState)(n);return er({hoverColor:e,headerHoverColor:t,hoverRange:r,onChangeHoverRange:o})}const nr="resize-expander",rr=Ye.ZP.span`
  position: absolute;
  top: 0;
  bottom: 0;
  right: -5px;
  width: 10px;
  cursor: col-resize;
  z-index: 1;
`;function or({sizes:e,onChangeSizes:t,minSize:n=40,maxSize:r=1/0,appendExpander:o,expanderVisibility:i="visible",disableUserSelectWhenResizing:l}){Bn("makeColumnResizeTransform");const a=Wn(((o,{range:i})=>{var a;if(!gt(o))return o;const c=Et.safeRenderHeader(o);return Object.assign(Object.assign({},o),{width:e[i.start],title:s().createElement(s().Fragment,null,c,s().createElement(rr,{className:"resize-handle",onMouseDown:o=>((o,i)=>{const s=i.clientX,a=e[o],c=V(window,"mousemove").pipe(Tn(V(window,"mouseup")),H((t=>{const i=t.clientX,l=e.slice();var c,u,h;return l[o]=(c=n,u=a+(i-s),h=r,Math.max(c,Math.min(h,u))),l})));let u,h="";l&&(u=document.documentElement.style,h=u.userSelect,u.userSelect="none"),c.subscribe({next:t,complete(){l&&(u.userSelect=h)}})})(i.start,o)})),headerCellProps:Object.assign(Object.assign({},o.headerCellProps),{style:Object.assign(Object.assign({},null===(a=o.headerCellProps)||void 0===a?void 0:a.style),{overflow:"visible",position:"relative"})})})}));return e=>{const{columns:t,dataSource:n}=a(e);return{columns:o?t.concat([{name:"",headerCellProps:{className:nr,style:{background:"hidden"===i?"var(--bgcolor)":void 0,border:"hidden"===i?"none":void 0}},getCellProps:()=>({className:nr,style:{visibility:i}})}]):t,dataSource:n}}}function ir(e){var{defaultSizes:t}=e,n=Sn(e,["defaultSizes"]);const[r,o]=(0,i.useState)(t);return or(Object.assign({sizes:r,onChangeSizes:o},n))}function sr(){return Bn("makeFlattenTransform"),Wn((e=>{var t;return gt(e)?e:(null===(t=e.features)||void 0===t?void 0:t.flatten)?e.children:e}))}function lr(e=1){return Bn("makeOrderFieldTransform"),Wn((t=>{var n,r;return(null===(n=t.features)||void 0===n?void 0:n.order)||(null===(r=t.features)||void 0===r?void 0:r.orderField)?Object.assign(Object.assign({},t),{getValue:(t,n)=>n+e}):t}))}function ar({size:e=32,style:t,className:n,order:r}){return s().createElement("svg",{style:t,className:n,focusable:"false",preserveAspectRatio:"xMidYMid meet",width:e,height:e,viewBox:"0 0 32 32","aria-hidden":"true"},s().createElement("path",{fill:"asc"===r?"#23A3FF":"#bfbfbf",transform:"translate(0, 4)",d:"M8 8L16 0 24 8z"}),s().createElement("path",{fill:"desc"===r?"#23A3FF":"#bfbfbf",transform:"translate(0, -4)",d:"M24 24L16 32 8 24z "}))}function cr({children:e,column:t,onToggle:n,sortOrder:r,sortIndex:o,sortOptions:i}){const l="right"===t.align?"flex-end":"center"===t.align?"center":"flex-start";return s().createElement(ur,{onClick:n,style:{justifyContent:l}},e,s().createElement(ar,{style:{userSelect:"none",marginLeft:2,flexShrink:0},size:16,order:r}),"multiple"===i.mode&&-1!=o&&s().createElement("div",{style:{userSelect:"none",marginLeft:2,color:"#666",flex:"0 0 auto",fontSize:10,fontFamily:"monospace"}},o+1))}const ur=Ye.ZP.div`
  cursor: pointer;
  display: flex;
  align-items: center;
`;function hr({sorts:e,onChangeSorts:t,orders:n=["desc","asc","none"],mode:r="multiple",SortHeaderCell:o=cr,keepDataSource:i,highlightColumnWhenActive:l,stopClickEventPropagation:a}){Bn("makeSortTransform");const c=e.filter((e=>"none"!==e.order)),u="multiple"===r?c:c.slice(0,1),h="multiple"===r?t:e=>{const n=e.length;t(e.slice(n-1))},d={sorts:u,onChangeSorts:h,orders:n,mode:r,keepDataSource:i,highlightColumnWhenActive:l,stopClickEventPropagation:a},f=new Map(u.map(((e,t)=>[e.code,Object.assign({index:t},e)])));return({dataSource:e,columns:t})=>({columns:function(e){return e.map((function e(t){var r;const i=Object.assign({},t),c=t.code&&((null===(r=t.features)||void 0===r?void 0:r.sortable)||f.has(t.code)),p=c&&f.has(t.code);if(c){let e=-1,r="none";if(p){const{order:n,index:o}=f.get(t.code);r=n,e=o,l&&(i.headerCellProps=Ct(t.headerCellProps,{style:{background:"var(--header-highlight-bgcolor)"}}),i.getCellProps=(e,n,r)=>Ct(Et.safeGetCellProps(t,n,r),{style:{background:"var(--highlight-bgcolor)"}}))}i.title=s().createElement(o,{onToggle:e=>{a&&e.stopPropagation(),function(e){const t=f.get(e);if(null==t)h(u.concat([{code:e,order:n[0]}]));else{const r=u.findIndex((t=>t.code===e)),o=u.slice(0,r+1),i=function(e){const t=n.indexOf(e);return n[t===n.length-1?0:t+1]}(t.order);"none"===i?o.pop():o[r]=Object.assign(Object.assign({},o[r]),{order:i}),h(o)}}(t.code)},sortOrder:r,column:t,sortIndex:e,sortOptions:d},Et.safeRenderHeader(t))}return gt(t)||(i.children=t.children.map(e)),i}))}(t),dataSource:function(e){if(i)return e;const n=new Map(bt(t,"leaf-only").filter((e=>{var t;return null!=(null===(t=e.features)||void 0===t?void 0:t.sortable)})).map((e=>[e.code,e])));return Hn(e,((e,t)=>{for(const{code:r,order:o}of u){const i=n.get(r);if(null==i)continue;const s=i.features.sortable,l=("function"==typeof s?s:Kn)(Et.safeGetValue(i,e,-1),Et.safeGetValue(i,t,-1));if(0!==l)return l*("asc"===o?1:-1)}return 0}))}(e)})}function dr(e={}){var{defaultSorts:t=[]}=e,n=Sn(e,["defaultSorts"]);const[r,o]=(0,i.useState)(t);return hr(Object.assign({sorts:r,onChangeSorts:o},n))}const fr=Ye.ZP.div`
  display: flex;
  align-items: center;

  .tip-icon-wrapper {
    margin-left: 2px;
  }

  .tip-icon {
    display: flex;
    fill: currentColor;
  }
`;function pr({Balloon:e,Tooltip:t}){return Bn("makeTipsTransform"),Wn((n=>{var r;if(!(null===(r=n.features)||void 0===r?void 0:r.tips))return n;const o="right"===n.align?"flex-end":"center"===n.align?"center":"flex-start";return Object.assign(Object.assign({},n),{title:s().createElement(fr,{style:{justifyContent:o}},Et.safeRenderHeader(n),e?s().createElement(e,{closable:!1,trigger:s().createElement("div",{className:"tip-icon-wrapper"},s().createElement(En.Info,{className:"tip-icon"}))},n.features.tips):s().createElement(t,{title:n.features.tips},s().createElement("div",{className:"tip-icon-wrapper"},s().createElement(En.Info,{className:"tip-icon"}))))})}))}function gr(e,t){return e===t}const br={start:-1,end:-1};function vr(e,t,n){return Math.max(e,Math.min(n,t))}const mr=Ye.ZP.span`
  position: absolute;
  top: 0;
  bottom: 0;
  right: -5px;
  width: 10px;
  cursor: col-resize;
  z-index: 1;
  transition: background-color 200ms;

  background: ${e=>e["var-handleBackground"]};

  &:hover {
    background: ${e=>e["var-handleHoverBackground"]};
  }
`,yr=Symbol("row-detail"),wr=()=>s().createElement("div",{style:{margin:"8px 24px"}},s().createElement("b",{style:{color:"indianred"}},"设置 ",s().createElement("code",null,"rowDetail.renderDetail")," 来自定义详情内容")),Sr=Symbol("row-grouping-meta");function xr(e){return Object.assign({[Sr]:{expandable:!gt(e)}},e)}function kr(e){return null==e[Sr]?{isGroupHeader:!1,expandable:!1}:{isGroupHeader:!0,expandable:e[Sr].expandable}}function Er(e){if(kr(e).isGroupHeader)return{className:"alternative"}}function _r({size:e=32,style:t,className:n,order:r,onClick:o}){return s().createElement("svg",{style:t,className:n,focusable:"false",preserveAspectRatio:"xMidYMid meet",width:e,height:e,viewBox:"0 0 32 32","aria-hidden":"true",onClick:o},s().createElement("path",{fill:"asc"===r?"#23A3FF":"#bfbfbf",transform:"translate(0, 4)",d:"M8 8L16 0 24 8z"}),s().createElement("path",{fill:"desc"===r?"#23A3FF":"#bfbfbf",transform:"translate(0, -4)",d:"M24 24L16 32 8 24z "}))}function Cr({children:e,column:t,onToggle:n,sortOrder:r,sortIndex:o,sortOptions:i,clickArea:l}){const a="right"===t.align?"flex-end":"center"===t.align?"center":"flex-start";return s().createElement(Or,{onClick:"content"===l?n:void 0,style:{justifyContent:a,cursor:"content"===l?"pointer":void 0}},e,s().createElement(_r,{onClick:"icon"===l?n:void 0,style:{userSelect:"none",marginLeft:2,flexShrink:0,cursor:"icon"===l?"pointer":void 0},size:16,order:r}),"multiple"===i.mode&&-1!=o&&s().createElement("div",{style:{userSelect:"none",marginLeft:2,color:"#666",flex:"0 0 auto",fontSize:10,fontFamily:"monospace"}},o+1))}const Or=Ye.ZP.div`
  display: flex;
  align-items: center;
`,Tr="sort",Rr=Ye.ZP.div`
  display: flex;
  align-items: center;

  .tip-icon-wrapper {
    margin-left: 2px;
  }

  .tip-icon {
    display: flex;
    fill: currentColor;
  }
`;class Pr{constructor(e){Object.assign(this,e)}}class Ir{constructor(e){this.opts=e,this.valueSet=new Set(e.value),this.initWrapperTree()}initWrapperTree(){const{getNodeValue:e}=this.opts;this.rootWrapper=new Pr({root:!0,children:[]}),this.wrapperMap=new Map;const t=(n,r)=>{for(const o of r){const r=new Pr({parent:n,node:o,checked:this.valueSet.has(e(o))});this.wrapperMap.set(e(o),r),n.children.push(r),gt(o)||(r.children=[],t(r,o.children))}};t(this.rootWrapper,this.opts.tree)}get value(){return this.opts.value}isIndeterminate(e){return!1}isChecked(e){return this.valueSet.has(e)}getValueAfterCheck(e){return this.isChecked(e)?this.value:wt.merge(this.value,[e])}getValueAfterUncheck(e){return this.isChecked(e)?wt.diff(this.value,[e]):this.value}getValueAfterToggle(e){return this.isChecked(e)?this.getValueAfterUncheck(e):this.getValueAfterCheck(e)}getNode(e){var t;return null===(t=this.wrapperMap.get(e))||void 0===t?void 0:t.node}getCleanValue(){return this.value}}class jr{constructor(e){Object.assign(this,e)}}class Mr{constructor(e){this.isDetached=e=>{var t,n,r;return null!==(r=null===(n=(t=this.opts).isDetached)||void 0===n?void 0:n.call(t,e))&&void 0!==r&&r},this.opts=e,this.valueSet=new Set(e.value),this.initWrapperTree()}get value(){return this.opts.value}initWrapperTree(){const e=new Set(this.value);this.rootWrapper=new jr({root:!0,children:[]}),this.wrapperMap=new Map;const t=this.opts.getNodeValue,{isDetached:n,wrapperMap:r}=this;!function o(i,s,l){i.allChildrenChecked=!0;for(const a of s){const s=n(a),c=e.has(t(a));c&&!s&&(i.anyDescendentsChecked=!0);const u=!s&&l,h=c||u,d=new jr({parent:i,node:a,checked:h,exactChecked:c,parentChecked:u,anyDescendentsChecked:h,detached:s});if(r.set(t(a),d),i.children.push(d),!gt(a)&&(d.children=[],o(d,a.children,h),d.anyDescendentsChecked&&!s&&(i.anyDescendentsChecked=!0),d.allChildrenChecked)){d.checked=!0;for(const e of d.children)e.detached||(e.parentChecked=!0)}d.checked||s||(i.allChildrenChecked=!1)}}(this.rootWrapper,this.opts.tree,!1)}isIndeterminate(e){const t=this.wrapperMap.get(e);return!t.checked&&t.anyDescendentsChecked}isChecked(e){return this.wrapperMap.get(e).checked}getValueAfterCheck(e){if(this.isChecked(e))return this.getCleanValue();const t=wt.merge(this.value,[e]);return new Mr(Object.assign(Object.assign({},this.opts),{value:t})).getCleanValue()}getValueAfterUncheck(e){if(!this.isChecked(e))return this.getCleanValue();const t=this.wrapperMap.get(e),{getNodeValue:n}=this.opts,r=function(e){let t=[],r=e;for(;r.parentChecked&&!r.detached;){for(const e of r.parent.children)e===r||e.exactChecked||e.detached||t.push(n(e.node));r=r.parent}return t}(t),o=function(e){const t=new Set;let r=e;for(;t.add(n(r.node)),!r.detached&&r.parentChecked;)r=r.parent;return function e(r){if(null!=r)for(const o of r)!o.detached&&o.checked&&(t.add(n(o.node)),!gt(o)&&o.anyDescendentsChecked&&e(o.children))}(e.children),t}(t),i=wt.diff(this.value.concat(r),o);return new Mr(Object.assign(Object.assign({},this.opts),{value:i})).getCleanValue()}getValueAfterToggle(e){return this.isChecked(e)?this.getValueAfterUncheck(e):this.getValueAfterCheck(e)}getNode(e){var t;return null===(t=this.wrapperMap.get(e))||void 0===t?void 0:t.node}getCleanValue(){const{checkedStrategy:e,getNodeValue:t}=this.opts,n=this.value.filter((e=>!this.wrapperMap.has(e)));return function r(o){for(const i of o)i.checked&&("all"===e?n.push(t(i.node)):"parent"===e?i.parentChecked||n.push(t(i.node)):gt(i)&&n.push(t(i.node))),gt(i)||r(i.children)}(this.rootWrapper.children),n}}const Nr="treeSelect";var Lr=Object.freeze({__proto__:null,autoRowSpan:function(){return function(e){const t=e.getDataSource();return e.mapColumns(Vn(((e,{startIndex:n,endIndex:r})=>{var o;if(!(null===(o=e.features)||void 0===o?void 0:o.autoRowSpan))return e;if(!gt(e))return e;const i="function"==typeof e.features.autoRowSpan?e.features.autoRowSpan:gr,s=[];let l=0,a=null,c=null;for(let o=0;o<t.length;o++){const u=t[o],h=Et.safeGetValue(e,u,o);if(0===o||!i(a,h,c,u)){const e={top:l,bottom:o,left:n,right:r};for(let t=l;t<o;t++)s.push(e);l=o}a=h,c=u}for(let e=l;e<t.length;e++)s.push({top:l,bottom:t.length,left:n,right:r});return Object.assign(Object.assign({},e),{getSpanRect:(e,t,n)=>s[n]})})))}},buildTree:function(e,t){return n=>n.mapDataSource((n=>Mn(e,t,n)))},columnHover:function(e={}){const t="columnHover";return n=>{var r,o,i,s;const l=null!==(r=e.hoverColor)&&void 0!==r?r:"var(--hover-bgcolor)",a=null!==(s=null!==(i=null!==(o=e.hoverColIndex)&&void 0!==o?o:n.getStateAtKey(t))&&void 0!==i?i:e.defaultHoverColIndex)&&void 0!==s?s:-1,c=r=>{var o;n.setStateAtKey(t,r),null===(o=e.onChangeHoverColIndex)||void 0===o||o.call(e,r)};return n.mapColumns(Vn(((e,{startIndex:t,endIndex:n})=>{const r={start:t,end:n};if(!gt(e))return e;const o=r.start<=a&&a<r.end,i=e.getCellProps;return Object.assign(Object.assign({},e),{getCellProps:(e,t,n)=>Ct(null==i?void 0:i(e,t,n),{style:{"--bgcolor":o?l:void 0},onMouseEnter(){c(r.start)},onMouseLeave(){c(-1)}})})})))}},columnRangeHover:function(e={}){const t="columnHover";return function(n){var r,o,i,s,l;const a=null!==(i=null!==(o=null!==(r=e.hoverRange)&&void 0!==r?r:n.getStateAtKey(t))&&void 0!==o?o:e.defaultHoverRange)&&void 0!==i?i:br,c=null!==(s=e.hoverColor)&&void 0!==s?s:"var(--hover-bgcolor)",u=null!==(l=e.headerHoverColor)&&void 0!==l?l:"var(--header-hover-bgcolor)",h=r=>{var o;n.setStateAtKey(t,r),null===(o=e.onChangeHoverRange)||void 0===o||o.call(e,r)};return n.mapColumns(Vn(((e,{startIndex:t,endIndex:n})=>{const r={start:t,end:n},o=r.end>a.start&&a.end>r.start;if(!gt(e))return null==u?e:Object.assign(Object.assign({},e),{headerCellProps:Ct(e.headerCellProps,{onMouseEnter(){h(r)},onMouseLeave(){h(br)},style:{"--header-bgcolor":o?u:void 0}})});const i=e.getCellProps;return Object.assign(Object.assign({},e),{headerCellProps:Ct(e.headerCellProps,{onMouseEnter(){h(r)},onMouseLeave(){h(br)},style:{"--header-bgcolor":o?u:void 0}}),getCellProps:(e,t,n)=>Ct(null==i?void 0:i(e,t,n),{onMouseEnter(){h(r)},onMouseLeave(){h(br)},style:{"--bgcolor":o?c:void 0}})})})))}},columnResize:function(e={}){var t,n,r,o;const i="columnResize",l=null===(t=e.disableUserSelectWhenResizing)||void 0===t||t,a=null!==(n=e.minSize)&&void 0!==n?n:60,c=null!==(r=e.fallbackSize)&&void 0!==r?r:150,u=null!==(o=e.maxSize)&&void 0!==o?o:1e3;return function(t){var n,r,o;const h=null!==(o=null!==(r=null!==(n=e.sizes)&&void 0!==n?n:t.getStateAtKey(i))&&void 0!==r?r:e.defaultSizes)&&void 0!==o?o:[];bt(t.getColumns(),"leaf-only").forEach(((e,t)=>{null==h[t]&&("number"==typeof e.width?h[t]=e.width:h[t]=c)}));const d=n=>{var r;t.setStateAtKey(i,n),null===(r=e.onChangeSizes)||void 0===r||r.call(e,n)};return t.mapColumns(Vn(((t,{startIndex:n,endIndex:r})=>{const o=Et.safeRenderHeader(t);return Object.assign(Object.assign({},t),{width:h[n],title:s().createElement(s().Fragment,null,o,s().createElement(mr,{className:"resize-handle","var-handleBackground":e.handleBackground,"var-handleHoverBackground":e.handleHoverBackground,onMouseDown:t=>((t,n,r)=>{const o=r.clientX,i=r.target,s=V(window,"mousemove").pipe(Tn(V(window,"mouseup")),H((e=>{const r=e.clientX,i=h.slice(),s=r-o,l=h.slice(t,n).reduce(((e,t)=>e+t),0);let c=s;for(let e=t;e<n-1;e++){const t=h[e],n=Math.round(s*(t/l));i[e]=vr(a,t+n,u),c-=n}return i[n-1]=vr(a,h[n-1]+c,u),i})));let c,f="";l&&(c=document.documentElement.style,f=c.userSelect,c.userSelect="none"),e.handleActiveBackground&&(i.style.background=e.handleActiveBackground),s.subscribe({next:d,complete(){l&&(c.userSelect=f),e.handleActiveBackground&&(i.style.background="")}})})(n,r,t)})),headerCellProps:Ct(t.headerCellProps,{style:{overflow:"visible",position:"relative"}})})})))}},multiSelect:function(e={}){return function(t){var n,r,o,i,l,a,c,u,h,d,f;const p="multiSelect",g=t.ctx.components.Checkbox;if(null==g)throw new Error("使用 multiSelect 之前需要设置 pipeline.ctx.components.Checkbox");const b=t.ensurePrimaryKey("multiSelect"),v=null!==(n=e.isDisabled)&&void 0!==n?n:St(!1),m=null!==(r=e.clickArea)&&void 0!==r?r:"checkbox",y=null!==(a=null!==(l=null!==(o=e.value)&&void 0!==o?o:null===(i=t.getStateAtKey(p))||void 0===i?void 0:i.value)&&void 0!==l?l:e.defaultValue)&&void 0!==a?a:[],w=null!==(d=null!==(h=null!==(c=e.lastKey)&&void 0!==c?c:null===(u=t.getStateAtKey(p))||void 0===u?void 0:u.lastKey)&&void 0!==h?h:e.defaultLastKey)&&void 0!==d?d:"",S=(n,r,o,i)=>{var s;null===(s=e.onChange)||void 0===s||s.call(e,n,r,o,i),t.setStateAtKey(p,{value:n,lastKey:r},{keys:o,action:i})},x=t.getDataSource(),k=new Set,E=[];x.forEach(((e,t)=>{const n=Et.safeGetRowKey(b,e,t);k.add(n),v(e,t)||E.push(n)}));const _=new Set(y),C=E.length>0&&E.every((e=>_.has(e))),O=E.some((e=>_.has(e))),T=s().createElement(g,{checked:C,indeterminate:!C&&O,onChange:e=>{C?S(wt.diff(y,E),"",E,"uncheck-all"):S(wt.merge(y,E),"",E,"check-all")}}),R=Object.assign(Object.assign({name:"是否选中",title:T,width:50,align:"center"},e.checkboxColumn),{getCellProps(t,n,r){const o=Et.safeGetRowKey(b,n,r);if(k.has(o)&&"cell"===m){const t=_.has(o),i=v(n,r);return{style:{cursor:i?"not-allowed":"pointer"},onClick:i?void 0:n=>{e.stopClickEventPropagation&&n.stopPropagation(),I(t,o,n.shiftKey)}}}},render(t,n,r){const o=Et.safeGetRowKey(b,n,r),i=_.has(o);return s().createElement(g,{checked:i,disabled:v(n,r),onChange:"checkbox"===m?(t,n)=>{var r;const s=null!==(r=null==n?void 0:n.nativeEvent)&&void 0!==r?r:t.nativeEvent;s&&(e.stopClickEventPropagation&&s.stopPropagation(),I(i,o,s.shiftKey))}:void 0})}}),P=t.getColumns().slice();return"start"===(null!==(f=e.checkboxPlacement)&&void 0!==f?f:"start")?P.unshift(R):P.push(R),t.columns(P),t.appendRowPropsGetter(((t,n)=>{const r=Et.safeGetRowKey(b,t,n);if(!k.has(r))return;let o,i,s={};const l=_.has(r);return e.highlightRowWhenSelected&&l&&(o="highlight"),"row"===m&&(v(t,n)||(s.cursor="pointer",i=t=>{e.stopClickEventPropagation&&t.stopPropagation(),I(l,r,t.shiftKey)})),{className:o,style:s,onClick:i}})),t;function I(e,t,n){let r=[t];if(n&&w){const e=E.indexOf(w),n=E.indexOf(t),[o,i]=e<n?[e,n]:[n,e];r=E.slice(o,i+1)}e?S(wt.diff(y,r),t,r,"uncheck"):S(wt.merge(y,r),t,r,"check")}}},rowDetail:function(e={}){return function(t){var n,r,i,l,a,c,u,h;const d="rowDetail",f=t.ensurePrimaryKey("rowDetail");if("string"!=typeof f)throw new Error("rowDetail 仅支持字符串作为 primaryKey");const p=null!==(n=e.rowDetailMetaKey)&&void 0!==n?n:yr,g=t.ctx.indents,b=g.iconIndent+g.iconWidth+g.iconGap,v=null!==(r=e.clickArea)&&void 0!==r?r:"cell",m=null!==(i=e.getDetailKey)&&void 0!==i?i:e=>e[f]+"_detail",y=null!==(l=e.renderDetail)&&void 0!==l?l:wr,w=null!==(a=e.hasDetail)&&void 0!==a?a:St(!0),S=null!==(h=null!==(u=null!==(c=e.openKeys)&&void 0!==c?c:t.getStateAtKey(d))&&void 0!==u?u:e.defaultOpenAll?t.getDataSource().filter(w).map((e=>e[f])):e.defaultOpenKeys)&&void 0!==h?h:[],x=(n,r,o)=>{var i;null===(i=e.onChangeOpenKeys)||void 0===i||i.call(e,n,r,o),t.setStateAtKey(d,n,{key:r,action:o})},k=new Set(S),E=e=>{k.has(e)?x(S.filter((t=>t!==e)),e,"collapse"):x([...S,e],e,"expand")};return t.dataSource(yt(t.getDataSource(),((e,t)=>k.has(e[f])?[e,Object.assign(Object.assign({[p]:!0},e),{[f]:m(e,t)})]:[e]))).columns(function(t){if(0===t.length)return t;const n=bt(t,"leaf-only").length,[r,...i]=t;return[Object.assign(Object.assign({},r),{title:s().createElement("div",{style:{display:"inline-block",marginLeft:b}},Et.safeRenderHeader(r)),render:(t,n,i)=>{if(n[p])return y(n,i);const l=Et.safeRender(r,n,i);if(!w(n,i))return s().createElement(xn,{style:{marginLeft:b}},l);const a=n[f],c=t=>{e.stopClickEventPropagation&&t.stopPropagation(),E(a)},u=k.has(a)?"expanded":"collapsed";return s().createElement(kn,{className:o()("expansion-cell",u),style:{cursor:"content"===v?"pointer":void 0},onClick:"content"===v?c:void 0},s().createElement(En.CaretRight,{style:{cursor:"icon"===v?"pointer":void 0,marginLeft:g.iconIndent,marginRight:g.iconGap},className:o()("expansion-icon",u),onClick:"icon"===v?c:void 0}),l)},getCellProps:"cell"===v?(t,n,o)=>{var i;if(n[p])return{style:Object.assign({"--cell-padding":"0",overflow:"hidden"},e.detailCellStyle)};const s=null===(i=r.getCellProps)||void 0===i?void 0:i.call(r,t,n,o);return w(n,o)?Ct(s,{onClick(t){e.stopClickEventPropagation&&t.stopPropagation(),E(n[f])},style:{cursor:"pointer"}}):s}:r.getCellProps,getSpanRect(e,t,r){if(t[p])return{top:r,bottom:r+1,left:0,right:n}}}),...i]}(t.getColumns())).appendRowPropsGetter((e=>{if(e[p])return{className:"no-hover"}}))}},rowGrouping:function(e={}){return t=>{var n,r,i;const l="rowGrouping",a=t.ctx.indents,c=a.iconIndent+a.iconWidth+a.iconGap,u=t.ensurePrimaryKey("rowGrouping");if("string"!=typeof u)throw new Error("rowGrouping 仅支持字符串作为 primaryKey");const h=null!==(i=null!==(r=null!==(n=e.openKeys)&&void 0!==n?n:t.getStateAtKey(l))&&void 0!==r?r:e.defaultOpenAll?t.getDataSource().map((e=>e[u])):e.defaultOpenKeys)&&void 0!==i?i:[],d=new Set(h),f=(n,r,o)=>{var i;null===(i=e.onChangeOpenKeys)||void 0===i||i.call(e,n,r,o),t.setStateAtKey(l,n,{key:r,action:o})};return t.mapDataSource((function(e){return yt(e,(e=>{let t=[xr(e)];return d.has(e[u])&&Array.isArray(e.children)&&(t=t.concat(e.children)),t}))})).mapColumns((function(t){if(0===t.length)return t;const n=bt(t,"leaf-only").length,[r,...i]=t;return[Object.assign(Object.assign({},r),{title:s().createElement("div",{style:{display:"inline-block",marginLeft:c}},Et.safeRenderHeader(r)),render:(e,t,n)=>{var i,l;const h=Et.safeRender(r,t,n),f=kr(t);if(!f.isGroupHeader||!f.expandable){const e=c+(f.isGroupHeader?0:a.indentSize);return s().createElement(xn,{style:{marginLeft:e}},f.isGroupHeader&&null!==(i=t.groupTitle)&&void 0!==i?i:h)}const p=d.has(t[u])?"expanded":"collapsed";return s().createElement(kn,{className:o()("expansion-cell",p)},s().createElement(En.CaretRight,{className:o()("expansion-icon",p),style:{marginLeft:a.iconIndent,marginRight:a.iconGap}}),null!==(l=t.groupTitle)&&void 0!==l?l:h)},getCellProps:(t,n,o)=>{var i;const s=kr(n);if(!s.isGroupHeader)return;const{expandable:l}=s,a=n[u],c=d.has(a);let p;return l&&(p=t=>{e.stopClickEventPropagation&&t.stopPropagation(),c?f(h.filter((e=>e!==a)),a,"collapse"):f([...h,a],a,"expand")}),Ct(null===(i=r.getCellProps)||void 0===i?void 0:i.call(r,t,n,o),{onClick:p,style:{cursor:l?"pointer":void 0}})},getSpanRect(e,t,r){if(kr(t).isGroupHeader)return{top:r,bottom:r+1,left:0,right:n}}}),...i]})).appendRowPropsGetter(Er)}},singleSelect:function(e={}){return function(t){var n,r,o;const i=t.ctx.components.Radio;if(null==i)throw new Error("使用 singleSelect 之前需要通过 pipeline context 设置 components.Radio");const l="singleSelect",a=null!==(n=e.clickArea)&&void 0!==n?n:"radio",c=null!==(r=e.isDisabled)&&void 0!==r?r:St(!1),u=t.ensurePrimaryKey("singleSelect"),h=function(...e){for(let t=0;t<e.length;t++){const n=e[t];if(void 0!==n)return n}}(e.value,t.getStateAtKey(l),e.defaultValue),d=n=>{var r;null===(r=e.onChange)||void 0===r||r.call(e,n),t.setStateAtKey(l,n)},f=Object.assign(Object.assign({name:"",width:50,align:"center"},e.radioColumn),{getCellProps(t,n,r){if("cell"===a){const t=Et.safeGetRowKey(u,n,r),o=c(n,r);return{style:{cursor:o?"not-allowed":"pointer"},onClick:o?void 0:n=>{e.stopClickEventPropagation&&n.stopPropagation(),d(t)}}}},render:(t,n,r)=>{const o=Et.safeGetRowKey(u,n,r);return s().createElement(i,{checked:h===o,disabled:c(n,r),onChange:"radio"===a?(t,n)=>{var r;const i=null!==(r=null==n?void 0:n.nativeEvent)&&void 0!==r?r:null==t?void 0:t.nativeEvent;i&&e.stopClickEventPropagation&&i.stopPropagation(),d(o)}:void 0})}}),p=t.getColumns().slice();return"start"===(null!==(o=e.radioPlacement)&&void 0!==o?o:"start")?p.unshift(f):p.push(f),t.columns(p),t.appendRowPropsGetter(((t,n)=>{const r=Et.safeGetRowKey(u,t,n);let o,i,s={};return e.highlightRowWhenSelected&&h===r&&(o="highlight"),"row"!==a||c(t,n)||(s.cursor="pointer",i=t=>{e.stopClickEventPropagation&&t.stopPropagation(),d(r)}),{className:o,style:s,onClick:i}})),t}},sort:function(e={}){return function(t){var n,r,o;const{orders:i=["desc","asc","none"],mode:l="multiple",SortHeaderCell:a=Cr,keepDataSource:c,highlightColumnWhenActive:u,stopClickEventPropagation:h,clickArea:d="content"}=e,f=(null!==(o=null!==(r=null!==(n=e.sorts)&&void 0!==n?n:t.getStateAtKey(Tr))&&void 0!==r?r:e.defaultSorts)&&void 0!==o?o:[]).filter((e=>"none"!==e.order)),p="multiple"===l?f:f.slice(0,1),g=n=>{var r;null===(r=e.onChangeSorts)||void 0===r||r.call(e,n),t.setStateAtKey(Tr,n)},b="multiple"===l?g:e=>{const t=e.length;g(e.slice(t-1))},v={sorts:p,onChangeSorts:b,orders:i,mode:l,keepDataSource:c,highlightColumnWhenActive:u,stopClickEventPropagation:h,clickArea:d},m=new Map(p.map(((e,t)=>[e.code,Object.assign({index:t},e)]))),y=t.getDataSource(),w=t.getColumns();return t.dataSource(function(e){if(c)return e;const t=new Map(bt(w,"leaf-only").filter((e=>{var t,n;return!1!==(null===(t=e.features)||void 0===t?void 0:t.sortable)&&null!=(null===(n=e.features)||void 0===n?void 0:n.sortable)})).map((e=>[e.code,e])));return Hn(e,((e,n)=>{for(const{code:r,order:o}of p){const i=t.get(r);if(null==i)continue;const s=i.features.sortable,l=("function"==typeof s?s:Kn)(Et.safeGetValue(i,e,-1),Et.safeGetValue(i,n,-1),e,n);if(0!==l)return l*("asc"===o?1:-1)}return 0}))}(y)),t.columns(function(e){return e.map((function e(t){var n;const r=Object.assign({},t),o=t.code&&((null===(n=t.features)||void 0===n?void 0:n.sortable)||m.has(t.code)),l=o&&m.has(t.code);if(o){let e=-1,n="none";if(l){const{order:o,index:i}=m.get(t.code);n=o,e=i,u&&(r.headerCellProps=Ct(t.headerCellProps,{style:{background:"var(--header-highlight-bgcolor)"}}),r.getCellProps=(e,n,r)=>Ct(Et.safeGetCellProps(t,n,r),{style:{background:"var(--highlight-bgcolor)"}}))}r.title=s().createElement(a,{clickArea:d,onToggle:e=>{h&&e.stopPropagation(),function(e){const t=m.get(e);if(null==t)b(p.concat([{code:e,order:i[0]}]));else{const n=p.findIndex((t=>t.code===e)),r=p.slice(0,n+1),o=function(e){const t=i.indexOf(e);return i[t===i.length-1?0:t+1]}(t.order);"none"===o?r.pop():r[n]=Object.assign(Object.assign({},r[n]),{order:o}),b(r)}}(t.code)},sortOrder:n,column:t,sortIndex:e,sortOptions:v},Et.safeRenderHeader(t))}return gt(t)||(r.children=t.children.map(e)),r}))}(w)),t}},tips:function(){return function(e){const t=e.ctx.components.Balloon,n=e.ctx.components.Tooltip;if(null==t&&null==n)throw new Error("使用 tips 之前需要通过 pipeline context 设置 components.Balloon / components.Tooltip");return e.mapColumns(Vn((e=>{var r;if(!(null===(r=e.features)||void 0===r?void 0:r.tips))return e;const o="right"===e.align?"flex-end":"center"===e.align?"center":"flex-start";return Object.assign(Object.assign({},e),{title:s().createElement(Rr,{style:{justifyContent:o}},Et.safeRenderHeader(e),t?s().createElement(t,{closable:!1,trigger:s().createElement("div",{className:"tip-icon-wrapper"},s().createElement(En.Info,{className:"tip-icon"}))},e.features.tips):s().createElement(n,{title:e.features.tips},s().createElement("div",{className:"tip-icon-wrapper"},s().createElement(En.Info,{className:"tip-icon"}))))})})))}},treeMode:function(e={}){return function(t){var n,r,i,l,a,c,u,h,d;const f="treeMode",p=t.ctx,g=t.ensurePrimaryKey("treeMode");if("string"!=typeof g)throw new Error("treeMode 仅支持字符串作为 primaryKey");const b=null!==(i=null!==(r=null!==(n=e.openKeys)&&void 0!==n?n:t.getStateAtKey(f))&&void 0!==r?r:e.defaultOpenKeys)&&void 0!==i?i:[],v=new Set(b),m=(n,r,o)=>{var i;null===(i=e.onChangeOpenKeys)||void 0===i||i.call(e,n,r,o),t.setStateAtKey(f,n,{key:r,action:o})},y=e=>{v.has(e)?m(b.filter((t=>t!==e)),e,"collapse"):m([...b,e],e,"expand")},w=null!==(l=e.isLeafNode)&&void 0!==l?l:gt,S=null!==(a=e.clickArea)&&void 0!==a?a:"cell",x=null!==(c=e.treeMetaKey)&&void 0!==c?c:_n,k=Boolean(e.stopClickEventPropagation),E=p.indents.iconWidth,_=null!==(u=e.iconIndent)&&void 0!==u?u:p.indents.iconIndent,C=null!==(h=e.iconGap)&&void 0!==h?h:p.indents.iconGap,O=null!==(d=e.indentSize)&&void 0!==d?d:p.indents.indentSize;return t.mapDataSource((function(e){const t=[];return function e(n,r){if(null!=n)for(const o of n){const n=o[g],i=v.has(n),s=w(o,{depth:r,expanded:i,rowKey:n}),l={depth:r,isLeaf:s,expanded:i,rowKey:n};t.push(Object.assign({[x]:l},o)),!s&&i&&e(o.children,r+1)}}(e,0),t})).mapColumns((function(e){if(0===e.length)return e;const[t,...n]=e;return[Object.assign(Object.assign({},t),{title:s().createElement("span",{style:{marginLeft:_+E+C}},Et.safeRenderHeader(t)),render:(e,n,r)=>{const i=Et.safeRender(t,n,r);if(null==n[x])return i;const{rowKey:l,depth:a,isLeaf:c,expanded:u}=n[x],h=_+a*O;if(c)return s().createElement(xn,{className:"expansion-cell leaf"},s().createElement("span",{style:{marginLeft:h+E+C}},i));const d=e=>{k&&e.stopPropagation(),y(l)},f=u?"expanded":"collapsed";return s().createElement(kn,{className:o()("expansion-cell",f),style:{cursor:"content"===S?"pointer":void 0},onClick:"content"===S?d:void 0},s().createElement(En.CaretRight,{className:o()("expansion-icon",f),style:{cursor:"icon"===S?"pointer":void 0,marginLeft:h,marginRight:C},onClick:"icon"===S?d:void 0}),i)},getCellProps:"cell"===S?(e,n,r)=>{const o=Et.safeGetCellProps(t,n,r);if(null==n[x])return o;const{isLeaf:i,rowKey:s}=n[x];return i?o:Ct(o,{onClick(e){k&&e.stopPropagation(),y(s)},style:{cursor:"pointer"}})}:t.getCellProps}),...n]}))}},treeMetaSymbol:_n,treeSelect:function(e){return function(t){var n,r,o,i,l,a,c,u;const h=t.ctx.components.Checkbox;if(null==h)throw new Error("使用 treeSelect 之前需要通过 pipeline context 设置 components.Checkbox");const d=t.ensurePrimaryKey("treeSelect");if("string"!=typeof d)throw new Error("treeSelect 仅支持字符串作为 primaryKey");const f=null!==(n=e.clickArea)&&void 0!==n?n:"checkbox",p=null!==(r=e.isDisabled)&&void 0!==r?r:St(!1),g=null!==(o=e.isDetached)&&void 0!==o?o:St(!1),b=null!==(a=null!==(l=null!==(i=e.value)&&void 0!==i?i:t.getStateAtKey(Nr))&&void 0!==l?l:e.defaultValue)&&void 0!==a?a:[],v=null!=e.rootKey?[{[d]:e.rootKey,children:e.tree}]:e.tree,m=e=>e[d],y=e.checkStrictly?new Ir({value:b,getNodeValue:m,tree:v}):new Mr({value:b,getNodeValue:m,isDetached:g,tree:v,checkedStrategy:null!==(c=e.checkedStrategy)&&void 0!==c?c:"parent"}),w=n=>{var r;const o=y.getValueAfterToggle(n);t.setStateAtKey(Nr,o),null===(r=e.onChange)||void 0===r||r.call(e,o)},S=(e,t,n)=>s().createElement(h,{checked:y.isChecked(e),indeterminate:y.isIndeterminate(e),disabled:!t&&p(n),onChange:"checkbox"===f||t?()=>w(e):void 0}),x=Object.assign(Object.assign({name:"",width:50,align:"center",title:null!=e.rootKey?S(e.rootKey,!0):void 0},e.checkboxColumn),{render:(e,t)=>S(t[d],!1,t),getCellProps(t,n){const r=n[d];if("cell"===f)return p(n)?{style:{cursor:"not-allowed"}}:{style:{cursor:"pointer"},onClick(t){e.stopClickEventPropagation&&t.stopPropagation(),w(r)}}}}),k=t.getColumns().slice();return"start"===(null!==(u=e.checkboxPlacement)&&void 0!==u?u:"start")?k.unshift(x):k.push(x),t.columns(k),"row"===f&&t.appendRowPropsGetter((t=>{if(!p(t))return{style:{cursor:"pointer"},onClick(n){e.stopClickEventPropagation&&n.stopPropagation(),w(t[d])}}})),e.highlightRowWhenSelected&&t.appendRowPropsGetter((e=>{if(y.isChecked(e[d]))return{className:"highlight"}})),t}}});const Hr=16;function Ar({onChangeOpenKeys:e,openKeys:t,primaryKey:n,iconIndent:r=-6,iconGap:i=0,indentSize:l=16,isLeafNode:a=gt,clickArea:c="cell",treeMetaKey:u=_n,stopClickEventPropagation:h}){Bn("makeTreeModeTransform");const d=new Set(t),f=n=>{d.has(n)?e(t.filter((e=>e!==n)),n,"collapse"):e([...t,n],n,"expand")};return({columns:e,dataSource:t})=>({columns:function(e){if(0===e.length)return e;const[t,...n]=e;return[Object.assign(Object.assign({},t),{title:s().createElement("span",{style:{marginLeft:r+Hr+i}},Et.safeRenderHeader(t)),render:(e,n,a)=>{const d=Et.safeRender(t,n,a);if(null==n[u])return d;const{rowKey:p,depth:g,isLeaf:b,expanded:v}=n[u],m=r+g*l;if(b)return s().createElement(xn,{className:"expansion-cell leaf"},s().createElement("span",{style:{marginLeft:m+Hr+i}},d));const y=e=>{h&&e.stopPropagation(),f(p)},w=v?"expanded":"collapsed";return s().createElement(kn,{className:o()("expansion-cell",w),style:{cursor:"content"===c?"pointer":void 0},onClick:"content"===c?y:void 0},s().createElement(En.CaretRight,{className:o()("expansion-icon",w),style:{cursor:"icon"===c?"pointer":void 0,marginLeft:m,marginRight:i},onClick:"icon"===c?y:void 0}),d)},getCellProps:"cell"===c?(e,n,r)=>{const o=Et.safeGetCellProps(t,n,r);if(null==n[u])return o;const{isLeaf:i,rowKey:s}=n[u];return i?o:Ct(o,{onClick(e){h&&e.stopPropagation(),f(s)},style:{cursor:"pointer"}})}:t.getCellProps}),...n]}(e),dataSource:function(e){const t=[];return function e(r,o){if(null!=r)for(const i of r){const r=i[n],s=d.has(r),l=a(i,{depth:o,expanded:s,rowKey:r}),c={depth:o,isLeaf:l,expanded:s,rowKey:r};t.push(Object.assign({[u]:c},i)),!l&&s&&e(i.children,o+1)}}(e,0),t}(t)})}function zr(e){var{defaultOpenKeys:t=[]}=e,n=Sn(e,["defaultOpenKeys"]);const[r,o]=(0,i.useState)(t);return Ar(Object.assign({openKeys:r,onChangeOpenKeys:o},n))}function Vr(e){Bn("makeVisibleTransform");const t=new Set(e);return Wn((e=>gt(e)?t.has(e.code)?e:Object.assign(Object.assign({},e),{hidden:!0}):e))}}}]);
//# sourceMappingURL=79.f6eb031c4366dab9b067.js.map?v=f6eb031c4366dab9b067