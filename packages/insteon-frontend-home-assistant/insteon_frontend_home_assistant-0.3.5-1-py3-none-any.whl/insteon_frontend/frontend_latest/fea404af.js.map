{"version":3,"file":"fea404af.js","mappings":";;AAyCA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AASA;;ACvCA;AACA;AACA;AACA;;AAGA","sources":["webpack://insteon-panel-frontend/./homeassistant-frontend/src/components/ha-duration-input.ts","webpack://insteon-panel-frontend/./homeassistant-frontend/src/components/ha-form/ha-form-positive_time_period_dict.ts"],"sourcesContent":["import { html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport \"./ha-base-time-input\";\nimport type { TimeChangedEvent } from \"./ha-base-time-input\";\n\nexport interface HaDurationData {\n  days?: number;\n  hours?: number;\n  minutes?: number;\n  seconds?: number;\n  milliseconds?: number;\n}\n\n@customElement(\"ha-duration-input\")\nclass HaDurationInput extends LitElement {\n  @property({ attribute: false }) public data?: HaDurationData;\n\n  @property() public label?: string;\n\n  @property() public helper?: string;\n\n  @property({ type: Boolean }) public required = false;\n\n  @property({ type: Boolean }) public enableMillisecond = false;\n\n  @property({ type: Boolean }) public enableDay = false;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @query(\"paper-time-input\", true) private _input?: HTMLElement;\n\n  public focus() {\n    if (this._input) {\n      this._input.focus();\n    }\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <ha-base-time-input\n        .label=${this.label}\n        .helper=${this.helper}\n        .required=${this.required}\n        .autoValidate=${this.required}\n        .disabled=${this.disabled}\n        errorMessage=\"Required\"\n        enableSecond\n        .enableMillisecond=${this.enableMillisecond}\n        .enableDay=${this.enableDay}\n        format=\"24\"\n        .days=${this._days}\n        .hours=${this._hours}\n        .minutes=${this._minutes}\n        .seconds=${this._seconds}\n        .milliseconds=${this._milliseconds}\n        @value-changed=${this._durationChanged}\n        noHoursLimit\n        dayLabel=\"dd\"\n        hourLabel=\"hh\"\n        minLabel=\"mm\"\n        secLabel=\"ss\"\n        millisecLabel=\"ms\"\n      ></ha-base-time-input>\n    `;\n  }\n\n  private get _days() {\n    return this.data?.days ? Number(this.data.days) : 0;\n  }\n\n  private get _hours() {\n    return this.data?.hours ? Number(this.data.hours) : 0;\n  }\n\n  private get _minutes() {\n    return this.data?.minutes ? Number(this.data.minutes) : 0;\n  }\n\n  private get _seconds() {\n    return this.data?.seconds ? Number(this.data.seconds) : 0;\n  }\n\n  private get _milliseconds() {\n    return this.data?.milliseconds ? Number(this.data.milliseconds) : 0;\n  }\n\n  private _durationChanged(ev: CustomEvent<{ value: TimeChangedEvent }>) {\n    ev.stopPropagation();\n    const value = { ...ev.detail.value };\n\n    if (!this.enableMillisecond && !value.milliseconds) {\n      // @ts-ignore\n      delete value.milliseconds;\n    } else if (value.milliseconds > 999) {\n      value.seconds += Math.floor(value.milliseconds / 1000);\n      value.milliseconds %= 1000;\n    }\n\n    if (value.seconds > 59) {\n      value.minutes += Math.floor(value.seconds / 60);\n      value.seconds %= 60;\n    }\n\n    if (value.minutes > 59) {\n      value.hours += Math.floor(value.minutes / 60);\n      value.minutes %= 60;\n    }\n\n    if (this.enableDay && value.hours > 24) {\n      value.days = (value.days ?? 0) + Math.floor(value.hours / 24);\n      value.hours %= 24;\n    }\n\n    fireEvent(this, \"value-changed\", {\n      value,\n    });\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-duration-input\": HaDurationInput;\n  }\n}\n","import { html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators\";\nimport \"../ha-duration-input\";\nimport { HaFormElement, HaFormTimeData, HaFormTimeSchema } from \"./types\";\n\n@customElement(\"ha-form-positive_time_period_dict\")\nexport class HaFormTimePeriod extends LitElement implements HaFormElement {\n  @property({ attribute: false }) public schema!: HaFormTimeSchema;\n\n  @property({ attribute: false }) public data!: HaFormTimeData;\n\n  @property() public label!: string;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @query(\"ha-time-input\", true) private _input?: HTMLElement;\n\n  public focus() {\n    if (this._input) {\n      this._input.focus();\n    }\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <ha-duration-input\n        .label=${this.label}\n        ?required=${this.schema.required}\n        .data=${this.data}\n        .disabled=${this.disabled}\n      ></ha-duration-input>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-form-positive_time_period_dict\": HaFormTimePeriod;\n  }\n}\n"],"names":[],"sourceRoot":""}