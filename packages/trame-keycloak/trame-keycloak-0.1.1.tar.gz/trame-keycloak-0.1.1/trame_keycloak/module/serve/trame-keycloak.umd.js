(function(t,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.trame_keycloak={},t.Vue))})(this,function(exports,vue){"use strict";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},base64Js={};base64Js.byteLength=byteLength,base64Js.toByteArray=toByteArray,base64Js.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;function getLens(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=t.indexOf("=");f===-1&&(f=e);var s=f===e?0:4-f%4;return[f,s]}function byteLength(t){var e=getLens(t),f=e[0],s=e[1];return(f+s)*3/4-s}function _byteLength(t,e,f){return(e+f)*3/4-f}function toByteArray(t){var e,f=getLens(t),s=f[0],p=f[1],n=new Arr(_byteLength(t,s,p)),m=0,l=p>0?s-4:s,g;for(g=0;g<l;g+=4)e=revLookup[t.charCodeAt(g)]<<18|revLookup[t.charCodeAt(g+1)]<<12|revLookup[t.charCodeAt(g+2)]<<6|revLookup[t.charCodeAt(g+3)],n[m++]=e>>16&255,n[m++]=e>>8&255,n[m++]=e&255;return p===2&&(e=revLookup[t.charCodeAt(g)]<<2|revLookup[t.charCodeAt(g+1)]>>4,n[m++]=e&255),p===1&&(e=revLookup[t.charCodeAt(g)]<<10|revLookup[t.charCodeAt(g+1)]<<4|revLookup[t.charCodeAt(g+2)]>>2,n[m++]=e>>8&255,n[m++]=e&255),n}function tripletToBase64(t){return lookup[t>>18&63]+lookup[t>>12&63]+lookup[t>>6&63]+lookup[t&63]}function encodeChunk(t,e,f){for(var s,p=[],n=e;n<f;n+=3)s=(t[n]<<16&16711680)+(t[n+1]<<8&65280)+(t[n+2]&255),p.push(tripletToBase64(s));return p.join("")}function fromByteArray(t){for(var e,f=t.length,s=f%3,p=[],n=16383,m=0,l=f-s;m<l;m+=n)p.push(encodeChunk(t,m,m+n>l?l:m+n));return s===1?(e=t[f-1],p.push(lookup[e>>2]+lookup[e<<4&63]+"==")):s===2&&(e=(t[f-2]<<8)+t[f-1],p.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),p.join("")}var sha256Exports={},sha256$1={get exports(){return sha256Exports},set exports(t){sha256Exports=t}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return typeof t=="object"&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(f){return new Sha256(e,!0).update(f)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(p){return e.create().update(p)};for(var f=0;f<OUTPUT_TYPES.length;++f){var s=OUTPUT_TYPES[f];e[s]=createOutputMethod(s,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if(typeof t=="string")return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(t==null)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(f,s){return new HmacSha256(f,e,!0).update(s)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(p){return new HmacSha256(p,t)},e.update=function(p,n){return e.create(p).update(n)};for(var f=0;f<OUTPUT_TYPES.length;++f){var s=OUTPUT_TYPES[f];e[s]=createHmacOutputMethod(s,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}Sha256.prototype.update=function(t){if(!this.finalized){var e,f=typeof t;if(f!=="string"){if(f==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var s,p=0,n,m=t.length,l=this.blocks;p<m;){if(this.hashed&&(this.hashed=!1,l[0]=this.block,l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0),e)for(n=this.start;p<m&&n<64;++p)l[n>>2]|=t[p]<<SHIFT[n++&3];else for(n=this.start;p<m&&n<64;++p)s=t.charCodeAt(p),s<128?l[n>>2]|=s<<SHIFT[n++&3]:s<2048?(l[n>>2]|=(192|s>>6)<<SHIFT[n++&3],l[n>>2]|=(128|s&63)<<SHIFT[n++&3]):s<55296||s>=57344?(l[n>>2]|=(224|s>>12)<<SHIFT[n++&3],l[n>>2]|=(128|s>>6&63)<<SHIFT[n++&3],l[n>>2]|=(128|s&63)<<SHIFT[n++&3]):(s=65536+((s&1023)<<10|t.charCodeAt(++p)&1023),l[n>>2]|=(240|s>>18)<<SHIFT[n++&3],l[n>>2]|=(128|s>>12&63)<<SHIFT[n++&3],l[n>>2]|=(128|s>>6&63)<<SHIFT[n++&3],l[n>>2]|=(128|s&63)<<SHIFT[n++&3]);this.lastByteIndex=n,this.bytes+=n-this.start,n>=64?(this.block=l[16],this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t=this.h0,e=this.h1,f=this.h2,s=this.h3,p=this.h4,n=this.h5,m=this.h6,l=this.h7,g=this.blocks,w,A,_,C,b,U,T,F,M,E,P;for(w=16;w<64;++w)b=g[w-15],A=(b>>>7|b<<25)^(b>>>18|b<<14)^b>>>3,b=g[w-2],_=(b>>>17|b<<15)^(b>>>19|b<<13)^b>>>10,g[w]=g[w-16]+A+g[w-7]+_<<0;for(P=e&f,w=0;w<64;w+=4)this.first?(this.is224?(F=300032,b=g[0]-1413257819,l=b-150054599<<0,s=b+24177077<<0):(F=704751109,b=g[0]-210244248,l=b-1521486534<<0,s=b+143694565<<0),this.first=!1):(A=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),_=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),F=t&e,C=F^t&f^P,T=p&n^~p&m,b=l+_+T+K[w]+g[w],U=A+C,l=s+b<<0,s=b+U<<0),A=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),_=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),M=s&t,C=M^s&e^F,T=l&p^~l&n,b=m+_+T+K[w+1]+g[w+1],U=A+C,m=f+b<<0,f=b+U<<0,A=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),_=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),E=f&s,C=E^f&t^M,T=m&l^~m&p,b=n+_+T+K[w+2]+g[w+2],U=A+C,n=e+b<<0,e=b+U<<0,A=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),_=(n>>>6|n<<26)^(n>>>11|n<<21)^(n>>>25|n<<7),P=e&f,C=P^e&s^E,T=n&m^~n&l,b=p+_+T+K[w+3]+g[w+3],U=A+C,p=t+b<<0,t=b+U<<0;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+f<<0,this.h3=this.h3+s<<0,this.h4=this.h4+p<<0,this.h5=this.h5+n<<0,this.h6=this.h6+m<<0,this.h7=this.h7+l<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,f=this.h2,s=this.h3,p=this.h4,n=this.h5,m=this.h6,l=this.h7,g=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[f>>28&15]+HEX_CHARS[f>>24&15]+HEX_CHARS[f>>20&15]+HEX_CHARS[f>>16&15]+HEX_CHARS[f>>12&15]+HEX_CHARS[f>>8&15]+HEX_CHARS[f>>4&15]+HEX_CHARS[f&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[p>>28&15]+HEX_CHARS[p>>24&15]+HEX_CHARS[p>>20&15]+HEX_CHARS[p>>16&15]+HEX_CHARS[p>>12&15]+HEX_CHARS[p>>8&15]+HEX_CHARS[p>>4&15]+HEX_CHARS[p&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[m>>28&15]+HEX_CHARS[m>>24&15]+HEX_CHARS[m>>20&15]+HEX_CHARS[m>>16&15]+HEX_CHARS[m>>12&15]+HEX_CHARS[m>>8&15]+HEX_CHARS[m>>4&15]+HEX_CHARS[m&15];return this.is224||(g+=HEX_CHARS[l>>28&15]+HEX_CHARS[l>>24&15]+HEX_CHARS[l>>20&15]+HEX_CHARS[l>>16&15]+HEX_CHARS[l>>12&15]+HEX_CHARS[l>>8&15]+HEX_CHARS[l>>4&15]+HEX_CHARS[l&15]),g},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,f=this.h2,s=this.h3,p=this.h4,n=this.h5,m=this.h6,l=this.h7,g=[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,f>>24&255,f>>16&255,f>>8&255,f&255,s>>24&255,s>>16&255,s>>8&255,s&255,p>>24&255,p>>16&255,p>>8&255,p&255,n>>24&255,n>>16&255,n>>8&255,n&255,m>>24&255,m>>16&255,m>>8&255,m&255];return this.is224||g.push(l>>24&255,l>>16&255,l>>8&255,l&255),g},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t};function HmacSha256(t,e,f){var s,p=typeof t;if(p==="string"){var n=[],m=t.length,l=0,g;for(s=0;s<m;++s)g=t.charCodeAt(s),g<128?n[l++]=g:g<2048?(n[l++]=192|g>>6,n[l++]=128|g&63):g<55296||g>=57344?(n[l++]=224|g>>12,n[l++]=128|g>>6&63,n[l++]=128|g&63):(g=65536+((g&1023)<<10|t.charCodeAt(++s)&1023),n[l++]=240|g>>18,n[l++]=128|g>>12&63,n[l++]=128|g>>6&63,n[l++]=128|g&63);t=n}else if(p==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);t.length>64&&(t=new Sha256(e,!0).update(t).array());var w=[],A=[];for(s=0;s<64;++s){var _=t[s]||0;w[s]=92^_,A[s]=54^_}Sha256.call(this,e,f),this.update(A),this.oKeyPad=w,this.inner=!0,this.sharedMemory=f}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256$1);const sha256=sha256Exports;if(typeof Promise>"u")throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");var loggedConstructorDeprecation=!1;function logConstructorDeprecation(){loggedConstructorDeprecation||(loggedConstructorDeprecation=!0,console.warn("[KEYCLOAK] Instantiation using the `Keycloak` function has been deprecated and support will be removed in future versions. Use the `new` operator to create an instance instead."))}function Keycloak(t){if(!(this instanceof Keycloak))return logConstructorDeprecation(),new Keycloak(t);for(var e=this,f,s=[],p,n={enable:!0,callbackList:[],interval:5},m=document.getElementsByTagName("script"),l=0;l<m.length;l++)(m[l].src.indexOf("keycloak.js")!==-1||m[l].src.indexOf("keycloak.min.js")!==-1)&&m[l].src.indexOf("version=")!==-1&&(e.iframeVersion=m[l].src.substring(m[l].src.indexOf("version=")+8).split("&")[0]);var g=!0,w=Q(console.info),A=Q(console.warn);e.init=function(r){e.authenticated=!1,p=re();var o=["default","cordova","cordova-native"];if(r&&o.indexOf(r.adapter)>-1?f=Y(r.adapter):r&&typeof r.adapter=="object"?f=r.adapter:window.Cordova||window.cordova?f=Y("cordova"):f=Y(),r){if(typeof r.useNonce<"u"&&(g=r.useNonce),typeof r.checkLoginIframe<"u"&&(n.enable=r.checkLoginIframe),r.checkLoginIframeInterval&&(n.interval=r.checkLoginIframeInterval),r.onLoad==="login-required"&&(e.loginRequired=!0),r.responseMode)if(r.responseMode==="query"||r.responseMode==="fragment")e.responseMode=r.responseMode;else throw"Invalid value for responseMode";if(r.flow){switch(r.flow){case"standard":e.responseType="code";break;case"implicit":e.responseType="id_token token";break;case"hybrid":e.responseType="code id_token token";break;default:throw"Invalid value for flow"}e.flow=r.flow}if(r.timeSkew!=null&&(e.timeSkew=r.timeSkew),r.redirectUri&&(e.redirectUri=r.redirectUri),r.silentCheckSsoRedirectUri&&(e.silentCheckSsoRedirectUri=r.silentCheckSsoRedirectUri),typeof r.silentCheckSsoFallback=="boolean"?e.silentCheckSsoFallback=r.silentCheckSsoFallback:e.silentCheckSsoFallback=!0,r.pkceMethod){if(r.pkceMethod!=="S256")throw"Invalid value for pkceMethod";e.pkceMethod=r.pkceMethod}typeof r.enableLogging=="boolean"?e.enableLogging=r.enableLogging:e.enableLogging=!1,typeof r.scope=="string"&&(e.scope=r.scope),typeof r.messageReceiveTimeout=="number"&&r.messageReceiveTimeout>0?e.messageReceiveTimeout=r.messageReceiveTimeout:e.messageReceiveTimeout=1e4}e.responseMode||(e.responseMode="fragment"),e.responseType||(e.responseType="code",e.flow="standard");var c=R(),h=R();h.promise.then(function(){e.onReady&&e.onReady(e.authenticated),c.setSuccess(e.authenticated)}).catch(function(x){c.setError(x)});var a=P();function v(){var x=function(y){y||(S.prompt="none"),e.login(S).then(function(){h.setSuccess()}).catch(function(I){h.setError(I)})},k=function(){var y=document.createElement("iframe"),I=e.createLoginUrl({prompt:"none",redirectUri:e.silentCheckSsoRedirectUri});y.setAttribute("src",I),y.setAttribute("title","keycloak-silent-check-sso"),y.style.display="none",document.body.appendChild(y);var L=function(H){if(!(H.origin!==window.location.origin||y.contentWindow!==H.source)){var O=X(H.data);E(O,h),document.body.removeChild(y),window.removeEventListener("message",L)}};window.addEventListener("message",L)},S={};switch(r.onLoad){case"check-sso":n.enable?D().then(function(){N().then(function(y){y?h.setSuccess():e.silentCheckSsoRedirectUri?k():x(!1)}).catch(function(y){h.setError(y)})}):e.silentCheckSsoRedirectUri?k():x(!1);break;case"login-required":x(!0);break;default:throw"Invalid value for onLoad"}}function u(){var x=X(window.location.href);if(x&&window.history.replaceState(window.history.state,null,x.newUrl),x&&x.valid)return D().then(function(){E(x,h)}).catch(function(k){h.setError(k)});r?r.token&&r.refreshToken?(B(r.token,r.refreshToken,r.idToken),n.enable?D().then(function(){N().then(function(k){k?(e.onAuthSuccess&&e.onAuthSuccess(),h.setSuccess(),J()):h.setSuccess()}).catch(function(k){h.setError(k)})}):e.updateToken(-1).then(function(){e.onAuthSuccess&&e.onAuthSuccess(),h.setSuccess()}).catch(function(k){e.onAuthError&&e.onAuthError(),r.onLoad?v():h.setError(k)})):r.onLoad?v():h.setSuccess():h.setSuccess()}function d(){var x=R(),k=function(){(document.readyState==="interactive"||document.readyState==="complete")&&(document.removeEventListener("readystatechange",k),x.setSuccess())};return document.addEventListener("readystatechange",k),k(),x.promise}return a.then(function(){d().then(ee).then(u).catch(function(x){c.setError(x)})}),a.catch(function(x){c.setError(x)}),c.promise},e.login=function(r){return f.login(r)};function _(r){var o=null,c=window.crypto||window.msCrypto;if(c&&c.getRandomValues&&window.Uint8Array)return o=new Uint8Array(r),c.getRandomValues(o),o;o=new Array(r);for(var h=0;h<o.length;h++)o[h]=Math.floor(256*Math.random());return o}function C(r){return b(r,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}function b(r,o){for(var c=_(r),h=new Array(r),a=0;a<r;a++)h[a]=o.charCodeAt(c[a]%o.length);return String.fromCharCode.apply(null,h)}function U(r,o){switch(r){case"S256":var c=new Uint8Array(sha256.arrayBuffer(o)),h=base64Js.fromByteArray(c).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");return h;default:throw"Invalid value for pkceMethod"}}function T(r){var o={id_token:{acr:r}};return JSON.stringify(o)}e.createLoginUrl=function(r){var o=q(),c=q(),h=f.redirectUri(r),a={state:o,nonce:c,redirectUri:encodeURIComponent(h)};r&&r.prompt&&(a.prompt=r.prompt);var v;r&&r.action=="register"?v=e.endpoints.register():v=e.endpoints.authorize();var u=r&&r.scope||e.scope;u?u.indexOf("openid")===-1&&(u="openid "+u):u="openid";var d=v+"?client_id="+encodeURIComponent(e.clientId)+"&redirect_uri="+encodeURIComponent(h)+"&state="+encodeURIComponent(o)+"&response_mode="+encodeURIComponent(e.responseMode)+"&response_type="+encodeURIComponent(e.responseType)+"&scope="+encodeURIComponent(u);if(g&&(d=d+"&nonce="+encodeURIComponent(c)),r&&r.prompt&&(d+="&prompt="+encodeURIComponent(r.prompt)),r&&r.maxAge&&(d+="&max_age="+encodeURIComponent(r.maxAge)),r&&r.loginHint&&(d+="&login_hint="+encodeURIComponent(r.loginHint)),r&&r.idpHint&&(d+="&kc_idp_hint="+encodeURIComponent(r.idpHint)),r&&r.action&&r.action!="register"&&(d+="&kc_action="+encodeURIComponent(r.action)),r&&r.locale&&(d+="&ui_locales="+encodeURIComponent(r.locale)),r&&r.acr){var x=T(r.acr);d+="&claims="+encodeURIComponent(x)}if(e.pkceMethod){var k=C(96);a.pkceCodeVerifier=k;var S=U(e.pkceMethod,k);d+="&code_challenge="+S,d+="&code_challenge_method="+e.pkceMethod}return p.add(a),d},e.logout=function(r){return f.logout(r)},e.createLogoutUrl=function(r){var o=e.endpoints.logout()+"?client_id="+encodeURIComponent(e.clientId)+"&post_logout_redirect_uri="+encodeURIComponent(f.redirectUri(r,!1));return e.idToken&&(o+="&id_token_hint="+encodeURIComponent(e.idToken)),o},e.register=function(r){return f.register(r)},e.createRegisterUrl=function(r){return r||(r={}),r.action="register",e.createLoginUrl(r)},e.createAccountUrl=function(r){var o=F(),c=void 0;return typeof o<"u"&&(c=o+"/account?referrer="+encodeURIComponent(e.clientId)+"&referrer_uri="+encodeURIComponent(f.redirectUri(r))),c},e.accountManagement=function(){return f.accountManagement()},e.hasRealmRole=function(r){var o=e.realmAccess;return!!o&&o.roles.indexOf(r)>=0},e.hasResourceRole=function(r,o){if(!e.resourceAccess)return!1;var c=e.resourceAccess[o||e.clientId];return!!c&&c.roles.indexOf(r)>=0},e.loadUserProfile=function(){var r=F()+"/account",o=new XMLHttpRequest;o.open("GET",r,!0),o.setRequestHeader("Accept","application/json"),o.setRequestHeader("Authorization","bearer "+e.token);var c=R();return o.onreadystatechange=function(){o.readyState==4&&(o.status==200?(e.profile=JSON.parse(o.responseText),c.setSuccess(e.profile)):c.setError())},o.send(),c.promise},e.loadUserInfo=function(){var r=e.endpoints.userinfo(),o=new XMLHttpRequest;o.open("GET",r,!0),o.setRequestHeader("Accept","application/json"),o.setRequestHeader("Authorization","bearer "+e.token);var c=R();return o.onreadystatechange=function(){o.readyState==4&&(o.status==200?(e.userInfo=JSON.parse(o.responseText),c.setSuccess(e.userInfo)):c.setError())},o.send(),c.promise},e.isTokenExpired=function(r){if(!e.tokenParsed||!e.refreshToken&&e.flow!="implicit")throw"Not authenticated";if(e.timeSkew==null)return w("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var o=e.tokenParsed.exp-Math.ceil(new Date().getTime()/1e3)+e.timeSkew;if(r){if(isNaN(r))throw"Invalid minValidity";o-=r}return o<0},e.updateToken=function(r){var o=R();if(!e.refreshToken)return o.setError(),o.promise;r=r||5;var c=function(){var a=!1;if(r==-1?(a=!0,w("[KEYCLOAK] Refreshing token: forced refresh")):(!e.tokenParsed||e.isTokenExpired(r))&&(a=!0,w("[KEYCLOAK] Refreshing token: token expired")),!a)o.setSuccess(!1);else{var v="grant_type=refresh_token&refresh_token="+e.refreshToken,u=e.endpoints.token();if(s.push(o),s.length==1){var d=new XMLHttpRequest;d.open("POST",u,!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.withCredentials=!0,v+="&client_id="+encodeURIComponent(e.clientId);var x=new Date().getTime();d.onreadystatechange=function(){if(d.readyState==4)if(d.status==200){w("[KEYCLOAK] Token refreshed"),x=(x+new Date().getTime())/2;var k=JSON.parse(d.responseText);B(k.access_token,k.refresh_token,k.id_token,x),e.onAuthRefreshSuccess&&e.onAuthRefreshSuccess();for(var S=s.pop();S!=null;S=s.pop())S.setSuccess(!0)}else{A("[KEYCLOAK] Failed to refresh token"),d.status==400&&e.clearToken(),e.onAuthRefreshError&&e.onAuthRefreshError();for(var S=s.pop();S!=null;S=s.pop())S.setError(!0)}},d.send(v)}}};if(n.enable){var h=N();h.then(function(){c()}).catch(function(a){o.setError(a)})}else c();return o.promise},e.clearToken=function(){e.token&&(B(null,null,null),e.onAuthLogout&&e.onAuthLogout(),e.loginRequired&&e.login())};function F(){if(typeof e.authServerUrl<"u")return e.authServerUrl.charAt(e.authServerUrl.length-1)=="/"?e.authServerUrl+"realms/"+encodeURIComponent(e.realm):e.authServerUrl+"/realms/"+encodeURIComponent(e.realm)}function M(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function E(r,o){var c=r.code,h=r.error,a=r.prompt,v=new Date().getTime();if(r.kc_action_status&&e.onActionUpdate&&e.onActionUpdate(r.kc_action_status),h){if(a!="none"){var u={error:h,error_description:r.error_description};e.onAuthError&&e.onAuthError(u),o&&o.setError(u)}else o&&o.setSuccess();return}else e.flow!="standard"&&(r.access_token||r.id_token)&&S(r.access_token,null,r.id_token,!0);if(e.flow!="implicit"&&c){var d="code="+c+"&grant_type=authorization_code",x=e.endpoints.token(),k=new XMLHttpRequest;k.open("POST",x,!0),k.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d+="&client_id="+encodeURIComponent(e.clientId),d+="&redirect_uri="+r.redirectUri,r.pkceCodeVerifier&&(d+="&code_verifier="+r.pkceCodeVerifier),k.withCredentials=!0,k.onreadystatechange=function(){if(k.readyState==4)if(k.status==200){var y=JSON.parse(k.responseText);S(y.access_token,y.refresh_token,y.id_token,e.flow==="standard"),J()}else e.onAuthError&&e.onAuthError(),o&&o.setError()},k.send(d)}function S(y,I,L,H){v=(v+new Date().getTime())/2,B(y,I,L,v),g&&(e.tokenParsed&&e.tokenParsed.nonce!=r.storedNonce||e.refreshTokenParsed&&e.refreshTokenParsed.nonce!=r.storedNonce||e.idTokenParsed&&e.idTokenParsed.nonce!=r.storedNonce)?(w("[KEYCLOAK] Invalid nonce, clearing token"),e.clearToken(),o&&o.setError()):H&&(e.onAuthSuccess&&e.onAuthSuccess(),o&&o.setSuccess())}}function P(r){var o=R(),c;t?typeof t=="string"&&(c=t):c="keycloak.json";function h(k){k?e.endpoints={authorize:function(){return k.authorization_endpoint},token:function(){return k.token_endpoint},logout:function(){if(!k.end_session_endpoint)throw"Not supported by the OIDC server";return k.end_session_endpoint},checkSessionIframe:function(){if(!k.check_session_iframe)throw"Not supported by the OIDC server";return k.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!k.userinfo_endpoint)throw"Not supported by the OIDC server";return k.userinfo_endpoint}}:e.endpoints={authorize:function(){return F()+"/protocol/openid-connect/auth"},token:function(){return F()+"/protocol/openid-connect/token"},logout:function(){return F()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var S=F()+"/protocol/openid-connect/login-status-iframe.html";return e.iframeVersion&&(S=S+"?version="+e.iframeVersion),S},thirdPartyCookiesIframe:function(){var S=F()+"/protocol/openid-connect/3p-cookies/step1.html";return e.iframeVersion&&(S=S+"?version="+e.iframeVersion),S},register:function(){return F()+"/protocol/openid-connect/registrations"},userinfo:function(){return F()+"/protocol/openid-connect/userinfo"}}}if(c){var a=new XMLHttpRequest;a.open("GET",c,!0),a.setRequestHeader("Accept","application/json"),a.onreadystatechange=function(){if(a.readyState==4)if(a.status==200||W(a)){var k=JSON.parse(a.responseText);e.authServerUrl=k["auth-server-url"],e.realm=k.realm,e.clientId=k.resource,h(null),o.setSuccess()}else o.setError()},a.send()}else{if(!t.clientId)throw"clientId missing";e.clientId=t.clientId;var v=t.oidcProvider;if(v)if(typeof v=="string"){var x;v.charAt(v.length-1)=="/"?x=v+".well-known/openid-configuration":x=v+"/.well-known/openid-configuration";var a=new XMLHttpRequest;a.open("GET",x,!0),a.setRequestHeader("Accept","application/json"),a.onreadystatechange=function(){if(a.readyState==4)if(a.status==200||W(a)){var S=JSON.parse(a.responseText);h(S),o.setSuccess()}else o.setError()},a.send()}else h(v),o.setSuccess();else{if(!t.url){for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++)if(u[d].src.match(/.*keycloak\.js/)){t.url=u[d].src.substr(0,u[d].src.indexOf("/js/keycloak.js"));break}}if(!t.realm)throw"realm missing";e.authServerUrl=t.url,e.realm=t.realm,h(null),o.setSuccess()}}return o.promise}function W(r){return r.status==0&&r.responseText&&r.responseURL.startsWith("file:")}function B(r,o,c,h){if(e.tokenTimeoutHandle&&(clearTimeout(e.tokenTimeoutHandle),e.tokenTimeoutHandle=null),o?(e.refreshToken=o,e.refreshTokenParsed=j(o)):(delete e.refreshToken,delete e.refreshTokenParsed),c?(e.idToken=c,e.idTokenParsed=j(c)):(delete e.idToken,delete e.idTokenParsed),r){if(e.token=r,e.tokenParsed=j(r),e.sessionId=e.tokenParsed.session_state,e.authenticated=!0,e.subject=e.tokenParsed.sub,e.realmAccess=e.tokenParsed.realm_access,e.resourceAccess=e.tokenParsed.resource_access,h&&(e.timeSkew=Math.floor(h/1e3)-e.tokenParsed.iat),e.timeSkew!=null&&(w("[KEYCLOAK] Estimated time difference between browser and server is "+e.timeSkew+" seconds"),e.onTokenExpired)){var a=(e.tokenParsed.exp-new Date().getTime()/1e3+e.timeSkew)*1e3;w("[KEYCLOAK] Token expires in "+Math.round(a/1e3)+" s"),a<=0?e.onTokenExpired():e.tokenTimeoutHandle=setTimeout(e.onTokenExpired,a)}}else delete e.token,delete e.tokenParsed,delete e.subject,delete e.realmAccess,delete e.resourceAccess,e.authenticated=!1}function j(r){switch(r=r.split(".")[1],r=r.replace(/-/g,"+"),r=r.replace(/_/g,"/"),r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw"Invalid token"}return r=decodeURIComponent(escape(atob(r))),r=JSON.parse(r),r}function q(){var r="0123456789abcdef",o=b(36,r).split("");o[14]="4",o[19]=r.substr(o[19]&3|8,1),o[8]=o[13]=o[18]=o[23]="-";var c=o.join("");return c}function X(r){var o=Z(r);if(o){var c=p.get(o.state);return c&&(o.valid=!0,o.redirectUri=c.redirectUri,o.storedNonce=c.nonce,o.prompt=c.prompt,o.pkceCodeVerifier=c.pkceCodeVerifier),o}}function Z(r){var o;switch(e.flow){case"standard":o=["code","state","session_state","kc_action_status"];break;case"implicit":o=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status"];break;case"hybrid":o=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status"];break}o.push("error"),o.push("error_description"),o.push("error_uri");var c=r.indexOf("?"),h=r.indexOf("#"),a,v;if(e.responseMode==="query"&&c!==-1?(a=r.substring(0,c),v=G(r.substring(c+1,h!==-1?h:r.length),o),v.paramsString!==""&&(a+="?"+v.paramsString),h!==-1&&(a+=r.substring(h))):e.responseMode==="fragment"&&h!==-1&&(a=r.substring(0,h),v=G(r.substring(h+1),o),v.paramsString!==""&&(a+="#"+v.paramsString)),v&&v.oauthParams){if(e.flow==="standard"||e.flow==="hybrid"){if((v.oauthParams.code||v.oauthParams.error)&&v.oauthParams.state)return v.oauthParams.newUrl=a,v.oauthParams}else if(e.flow==="implicit"&&(v.oauthParams.access_token||v.oauthParams.error)&&v.oauthParams.state)return v.oauthParams.newUrl=a,v.oauthParams}}function G(r,o){for(var c=r.split("&"),h={paramsString:"",oauthParams:{}},a=0;a<c.length;a++){var v=c[a].indexOf("="),u=c[a].slice(0,v);o.indexOf(u)!==-1?h.oauthParams[u]=c[a].slice(v+1):(h.paramsString!==""&&(h.paramsString+="&"),h.paramsString+=c[a])}return h}function R(){var r={setSuccess:function(o){r.resolve(o)},setError:function(o){r.reject(o)}};return r.promise=new Promise(function(o,c){r.resolve=o,r.reject=c}),r}function $(r,o,c){var h=null,a=new Promise(function(v,u){h=setTimeout(function(){u({error:c||"Promise is not settled within timeout of "+o+"ms"})},o)});return Promise.race([r,a]).finally(function(){clearTimeout(h)})}function D(){var r=R();if(!n.enable||n.iframe)return r.setSuccess(),r.promise;var o=document.createElement("iframe");n.iframe=o,o.onload=function(){var a=e.endpoints.authorize();a.charAt(0)==="/"?n.iframeOrigin=M():n.iframeOrigin=a.substring(0,a.indexOf("/",8)),r.setSuccess()};var c=e.endpoints.checkSessionIframe();o.setAttribute("src",c),o.setAttribute("title","keycloak-session-iframe"),o.style.display="none",document.body.appendChild(o);var h=function(a){if(!(a.origin!==n.iframeOrigin||n.iframe.contentWindow!==a.source)&&(a.data=="unchanged"||a.data=="changed"||a.data=="error")){a.data!="unchanged"&&e.clearToken();for(var v=n.callbackList.splice(0,n.callbackList.length),u=v.length-1;u>=0;--u){var d=v[u];a.data=="error"?d.setError():d.setSuccess(a.data=="unchanged")}}};return window.addEventListener("message",h,!1),r.promise}function J(){n.enable&&e.token&&setTimeout(function(){N().then(function(r){r&&J()})},n.interval*1e3)}function N(){var r=R();if(n.iframe&&n.iframeOrigin){var o=e.clientId+" "+(e.sessionId?e.sessionId:"");n.callbackList.push(r);var c=n.iframeOrigin;n.callbackList.length==1&&n.iframe.contentWindow.postMessage(o,c)}else r.setSuccess();return r.promise}function ee(){var r=R();if(n.enable||e.silentCheckSsoRedirectUri){var o=document.createElement("iframe");o.setAttribute("src",e.endpoints.thirdPartyCookiesIframe()),o.setAttribute("title","keycloak-3p-check-iframe"),o.style.display="none",document.body.appendChild(o);var c=function(h){o.contentWindow===h.source&&(h.data!=="supported"&&h.data!=="unsupported"||(h.data==="unsupported"&&(n.enable=!1,e.silentCheckSsoFallback&&(e.silentCheckSsoRedirectUri=!1),A("[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and silent check-sso are not available.")),document.body.removeChild(o),window.removeEventListener("message",c),r.setSuccess()))};window.addEventListener("message",c,!1)}else r.setSuccess();return $(r.promise,e.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function Y(r){if(!r||r=="default")return{login:function(u){return window.location.assign(e.createLoginUrl(u)),R().promise},logout:function(u){return window.location.replace(e.createLogoutUrl(u)),R().promise},register:function(u){return window.location.assign(e.createRegisterUrl(u)),R().promise},accountManagement:function(){var u=e.createAccountUrl();if(typeof u<"u")window.location.href=u;else throw"Not supported by the OIDC server";return R().promise},redirectUri:function(u,d){return u&&u.redirectUri?u.redirectUri:e.redirectUri?e.redirectUri:location.href}};if(r=="cordova"){n.enable=!1;var o=function(u,d,x){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(u,d,x):window.open(u,d,x)},c=function(u){return u&&u.cordovaOptions?Object.keys(u.cordovaOptions).reduce(function(d,x){return d[x]=u.cordovaOptions[x],d},{}):{}},h=function(u){return Object.keys(u).reduce(function(d,x){return d.push(x+"="+u[x]),d},[]).join(",")},a=function(u){var d=c(u);return d.location="no",u&&u.prompt=="none"&&(d.hidden="yes"),h(d)},v=e.redirectUri||"http://localhost";return{login:function(u){var d=R(),x=a(u),k=e.createLoginUrl(u),S=o(k,"_blank",x),y=!1,I=!1,L=function(){I=!0,S.close()};return S.addEventListener("loadstart",function(H){if(H.url.indexOf(v)==0){var O=X(H.url);E(O,d),L(),y=!0}}),S.addEventListener("loaderror",function(H){if(!y)if(H.url.indexOf(v)==0){var O=X(H.url);E(O,d),L(),y=!0}else d.setError(),L()}),S.addEventListener("exit",function(H){I||d.setError({reason:"closed_by_user"})}),d.promise},logout:function(u){var d=R(),x=e.createLogoutUrl(u),k=o(x,"_blank","location=no,hidden=yes,clearcache=yes"),S;return k.addEventListener("loadstart",function(y){y.url.indexOf(v)==0&&k.close()}),k.addEventListener("loaderror",function(y){y.url.indexOf(v)==0||(S=!0),k.close()}),k.addEventListener("exit",function(y){S?d.setError():(e.clearToken(),d.setSuccess())}),d.promise},register:function(u){var d=R(),x=e.createRegisterUrl(),k=a(u),S=o(x,"_blank",k);return S.addEventListener("loadstart",function(y){if(y.url.indexOf(v)==0){S.close();var I=X(y.url);E(I,d)}}),d.promise},accountManagement:function(){var u=e.createAccountUrl();if(typeof u<"u"){var d=o(u,"_blank","location=no");d.addEventListener("loadstart",function(x){x.url.indexOf(v)==0&&d.close()})}else throw"Not supported by the OIDC server"},redirectUri:function(u){return v}}}if(r=="cordova-native")return n.enable=!1,{login:function(u){var d=R(),x=e.createLoginUrl(u);return universalLinks.subscribe("keycloak",function(k){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var S=X(k.url);E(S,d)}),window.cordova.plugins.browsertab.openUrl(x),d.promise},logout:function(u){var d=R(),x=e.createLogoutUrl(u);return universalLinks.subscribe("keycloak",function(k){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),e.clearToken(),d.setSuccess()}),window.cordova.plugins.browsertab.openUrl(x),d.promise},register:function(u){var d=R(),x=e.createRegisterUrl(u);return universalLinks.subscribe("keycloak",function(k){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var S=X(k.url);E(S,d)}),window.cordova.plugins.browsertab.openUrl(x),d.promise},accountManagement:function(){var u=e.createAccountUrl();if(typeof u<"u")window.cordova.plugins.browsertab.openUrl(u);else throw"Not supported by the OIDC server"},redirectUri:function(u){return u&&u.redirectUri?u.redirectUri:e.redirectUri?e.redirectUri:"http://localhost"}};throw"invalid adapter type: "+r}var z=function(){if(!(this instanceof z))return new z;localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test");var r=this;function o(){for(var c=new Date().getTime(),h=0;h<localStorage.length;h++){var a=localStorage.key(h);if(a&&a.indexOf("kc-callback-")==0){var v=localStorage.getItem(a);if(v)try{var u=JSON.parse(v).expires;(!u||u<c)&&localStorage.removeItem(a)}catch{localStorage.removeItem(a)}}}}r.get=function(c){if(c){var h="kc-callback-"+c,a=localStorage.getItem(h);return a&&(localStorage.removeItem(h),a=JSON.parse(a)),o(),a}},r.add=function(c){o();var h="kc-callback-"+c.state;c.expires=new Date().getTime()+60*60*1e3,localStorage.setItem(h,JSON.stringify(c))}},V=function(){if(!(this instanceof V))return new V;var r=this;r.get=function(a){if(a){var v=c("kc-callback-"+a);if(h("kc-callback-"+a,"",o(-100)),v)return JSON.parse(v)}},r.add=function(a){h("kc-callback-"+a.state,JSON.stringify(a),o(60))},r.removeItem=function(a){h(a,"",o(-100))};var o=function(a){var v=new Date;return v.setTime(v.getTime()+a*60*1e3),v},c=function(a){for(var v=a+"=",u=document.cookie.split(";"),d=0;d<u.length;d++){for(var x=u[d];x.charAt(0)==" ";)x=x.substring(1);if(x.indexOf(v)==0)return x.substring(v.length,x.length)}return""},h=function(a,v,u){var d=a+"="+v+"; expires="+u.toUTCString()+"; ";document.cookie=d}};function re(){try{return new z}catch{}return new V}function Q(r){return function(){e.enableLogging&&r.apply(console,Array.prototype.slice.call(arguments))}}}function getState(t){const{authenticated:e,subject:f,roles:s,resourceAccess:p}=t;return{authenticated:e,subject:f,roles:s,resourceAccess:p}}const KeyCloak={props:["config"],emits:["authenticated","profile"],setup(t,{emit:e}){const f=vue.ref(null),s=vue.ref(!1),p=new Keycloak(t.config);vue.inject("keycloak",p);function n(A){return p.login(A)}function m(A){return p.logout(A)}function l(A){return p.register(A)}function g(A){return p.hasRealmRole(A)}function w(A,_){return p.hasResourceRole(A,_)}return vue.onMounted(()=>{var A;p.init({onLoad:t.config.onLoad,flow:((A=t.config)==null?void 0:A.flow)||""}).then(async _=>{_?(e("authenticated",getState(p)),f.value=await p.loadUserProfile(),e("profile",f.value)):(e("authenticated",!1),window.location.reload()),s.value=_})}),{authenticated:s,login:n,logout:m,register:l,hasRealmRole:g,hasResourceRole:w}},template:'<slot v-if="authenticated" :user="profile"></slot>'},components={KeyCloak};function install(t){Object.keys(components).forEach(e=>{t.component(e,components[e])})}exports.install=install,Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})});
